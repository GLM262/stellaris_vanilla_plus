namespace = caretaker_origin_event
country_event = {
    id = caretaker_origin_event.1
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
    }
    immediate = {
        capital_scope = {
            add_modifier = {
                modifier = pm_caretaker_core_restarting
                days = -1
            }
            save_global_event_target_as = caretaker_core_planet@root
        }
        set_variable = {
            which = caretaker_mood
            value = 0
        }
        set_variable = {
            which = migration_treaties
            value = 0
        }
        random_list = {
            50 = {
            }
            50 = {
                set_country_flag = caretaker_killer_glitch
                country_event = {
                    id = caretaker_origin_event.2000
                    days = 18000
                }
            }
        }
        random_list = {
            50 = {
            }
            50 = {
                set_country_flag = caretaker_abandoned_vault
            }
        }
        random_list = {
            50 = {
            }
            50 = {
                set_country_flag = caretaker_hacked_hub
                country_event = {
                    id = caretaker_origin_event.2600
                    days = 21600
                }
            }
        }
        random_list = {
            50 = {
            }
            50 = {
                set_country_flag = caretaker_downshifters
                country_event = {
                    id = caretaker_origin_event.2700
                    days = 19800
                }
            }
        }
        give_technology = {
            message = no
            tech = tech_planetary_unification
        }
        if = {
            limit = {
                has_civic = civic_drone_culture
            }
            give_technology = {
                message = no
                tech = tech_powered_exoskeletons
            }
            give_technology = {
                message = no
                tech = tech_robotic_workers
            }
            create_built_robot_species = yes
            modify_species = {
                species = last_created_species
                add_trait = trait_robot_caretaker_directives
            }
            last_created_species = {
                save_event_target_as = last_created_species
            }
            capital_scope = {
                create_pop = {
                    species = last_created_species
                }
                create_pop = {
                    species = last_created_species
                }
                add_building = building_robot_assembly_plant
            }
        }
        else = {
            capital_scope = {
                create_pop = {
                    species = ROOT
                }
                create_pop = {
                    species = ROOT
                }
                add_building = building_monitor_station_1
            }
        }
        if = {
            limit = {
                has_civic = civic_love_the_alien
            }
            give_technology = {
                message = no
                tech = tech_neural_implants
            }
        }
        country_event = {
            id = caretaker_origin_event.2
            days = 1
        }
    }
}
country_event = {
    id = caretaker_origin_event.2
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
    }
    immediate = {
        if = {
            limit = {
                event_target:caretaker_core_planet@root = {
                    is_owned_by = root
                    is_colony = yes
                    num_pops > 0
                }
            }
            event_target:caretaker_core_planet@root = {
                remove_modifier = pm_caretaker_core_restarting
                caretaker_set_current_mood = yes
                remove_deposit = d_decrepit_dwellings
                create_pop = {
                    species = ROOT
                }
            }
        }
        else = {
            event_target:caretaker_core_planet@root = {
                caretaker_core_clean_up = yes
            }
            capital_scope = {
                save_global_event_target_as = caretaker_core_planet@root
                remove_modifier = pm_caretaker_core_restarting
                caretaker_set_current_mood = yes
                remove_deposit = d_decrepit_dwellings
                create_pop = {
                    species = ROOT
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.10
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        caretaker_presence_on_planet = yes
        FROM = {
            NOT = {
                has_origin = origin_caretaker
            }
        }
    }
    immediate = {
        caretaker_hub_clean_up = yes
        caretaker_core_clean_up = yes
        remove_modifier = caretaker_hacked_hub_1
        remove_modifier = caretaker_hacked_hub_2
        remove_modifier = caretaker_hacked_hub_3a
        remove_modifier = caretaker_hacked_hub_3b
        remove_deposit = d_caretaker_free_settlements
        remove_modifier = pm_caretaker_free_settler_discord
    }
}
planet_event = {
    id = caretaker_origin_event.20
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        FROM = {
            has_origin = origin_caretaker
        }
    }
    immediate = {
        if = {
            limit = {
                FROM = {
                    has_country_flag = caretaker_break_up
                }
            }
            if = {
                limit = {
                    caretaker_core_exists_on_planet = yes
                }
                caretaker_core_clean_up = yes
                add_deposit = d_caretaker_hub
            }
            else_if = {
                limit = {
                    NOT = {
                        has_deposit = d_caretaker_hub
                    }
                }
                planet_event = {
                    id = caretaker_origin_event.1110
                    days = 360
                }
                planet_event = {
                    id = caretaker_origin_event.1120
                    days = 720
                }
            }
            remove_deposit = d_caretaker_free_settlements
            remove_modifier = pm_caretaker_free_settler_discord
        }
        else = {
            caretaker_core_clean_up = yes
            caretaker_hub_clean_up = yes
            remove_deposit = d_caretaker_free_settlements
            remove_modifier = pm_caretaker_free_settler_discord
        }
        if = {
            limit = {
                or = {
                    has_modifier = caretaker_hacked_hub_1
                    has_modifier = caretaker_hacked_hub_2
                    has_modifier = caretaker_hacked_hub_3a
                    has_modifier = caretaker_hacked_hub_3b
                }
                NOT = {
                    has_planet_flag = caretaker_hub_hack_preserved
                }
                exists = event_target:caretaker_hacked_hub_planet@root
                NOT = {
                    is_planet = event_target:caretaker_hacked_hub_planet@root
                }
            }
            remove_modifier = caretaker_hacked_hub_1
            remove_modifier = caretaker_hacked_hub_2
            remove_modifier = caretaker_hacked_hub_3a
            remove_modifier = caretaker_hacked_hub_3b
        }
    }
}
planet_event = {
    id = caretaker_origin_event.50
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        caretaker_presence_on_planet = yes
    }
    immediate = {
        caretaker_core_clean_up = yes
        caretaker_hub_clean_up = yes
        remove_modifier = caretaker_hacked_hub_1
        remove_modifier = caretaker_hacked_hub_2
        remove_modifier = caretaker_hacked_hub_3a
        remove_modifier = caretaker_hacked_hub_3b
        remove_deposit = d_caretaker_free_settlements
        remove_modifier = pm_caretaker_free_settler_discord
    }
}
country_event = {
    id = caretaker_origin_event.500
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        NOT = {
            has_country_flag = caretaker_break_up
        }
    }
    immediate = {
        if = {
            limit = {
                NOT = {
                    has_country_flag = caretaker_tr_a_new_life_logged
                }
                has_tradition = tr_expansion_a_new_life
            }
            set_country_flag = caretaker_tr_a_new_life_logged
            change_variable = {
                which = caretaker_mood
                value = -2
            }
        }
        if = {
            limit = {
                NOT = {
                    has_country_flag = caretaker_ap_xenocompatilibility_logged
                }
                has_ascension_perk = ap_xeno_compatibility
            }
            set_country_flag = caretaker_ap_xenocompatilibility_logged
            change_variable = {
                which = caretaker_mood
                value = -10
            }
            country_event = {
                id = caretaker_origin_event.510
                days = 2
                random = 3
            }
        }
        if = {
            limit = {
                NOT = {
                    has_country_flag = caretaker_ap_nihilistic_acquisition_logged
                }
                has_ascension_perk = ap_nihilistic_acquisition
            }
            set_country_flag = caretaker_ap_nihilistic_acquisition_logged
            change_variable = {
                which = caretaker_mood
                value = -8
            }
            country_event = {
                id = caretaker_origin_event.511
                days = 2
                random = 3
            }
        }
        if = {
            limit = {
                NOT = {
                    has_country_flag = caretaker_ap_flesh_is_weak_logged
                }
                has_ascension_perk = ap_the_flesh_is_weak
            }
            set_country_flag = caretaker_ap_flesh_is_weak_logged
            change_variable = {
                which = caretaker_mood
                value = -25
            }
            country_event = {
                id = caretaker_origin_event.512
                days = 2
                random = 3
            }
        }
        if = {
            limit = {
                NOT = {
                    has_country_flag = caretaker_ap_mind_over_matter_logged
                }
                has_ascension_perk = ap_mind_over_matter
            }
            set_country_flag = caretaker_ap_mind_over_matter_logged
            change_variable = {
                which = caretaker_mood
                value = -25
            }
            country_event = {
                id = caretaker_origin_event.513
                days = 2
                random = 3
            }
        }
        if = {
            limit = {
                NOT = {
                    has_country_flag = caretaker_ap_engineered_evolution_logged
                }
                has_ascension_perk = ap_engineered_evolution
            }
            set_country_flag = caretaker_ap_engineered_evolution_logged
            change_variable = {
                which = caretaker_mood
                value = -25
            }
            country_event = {
                id = caretaker_origin_event.514
                days = 2
                random = 3
            }
        }
        if = {
            limit = {
                NOT = {
                    has_country_flag = caretaker_ap_synthetic_evolution_logged
                }
                has_ascension_perk = ap_synthetic_evolution
            }
            set_country_flag = caretaker_ap_synthetic_evolution_logged
            change_variable = {
                which = caretaker_mood
                value = -250
            }
            country_event = {
                id = caretaker_origin_event.515
                days = 2
                random = 3
            }
            random_list = {
                33 = {
                    country_event = {
                        id = caretaker_origin_event.4000
                        days = 150
                        random = 15
                    }
                }
                33 = {
                    country_event = {
                        id = caretaker_origin_event.4000
                        days = 180
                        random = 15
                    }
                }
                33 = {
                    country_event = {
                        id = caretaker_origin_event.4000
                        days = 210
                        random = 15
                    }
                }
            }
        }
        if = {
            limit = {
                NOT = {
                    has_country_flag = caretaker_ap_transcendence_logged
                }
                has_ascension_perk = ap_transcendence
            }
            set_country_flag = caretaker_ap_transcendence_logged
            change_variable = {
                which = caretaker_mood
                value = -250
            }
            country_event = {
                id = caretaker_origin_event.516
                days = 2
                random = 3
            }
            random_list = {
                33 = {
                    country_event = {
                        id = caretaker_origin_event.4000
                        days = 150
                        random = 15
                    }
                }
                33 = {
                    country_event = {
                        id = caretaker_origin_event.4000
                        days = 180
                        random = 15
                    }
                }
                33 = {
                    country_event = {
                        id = caretaker_origin_event.4000
                        days = 210
                        random = 15
                    }
                }
            }
        }
        if = {
            limit = {
                NOT = {
                    has_country_flag = caretaker_ap_evolutionary_master_logged
                }
                has_ascension_perk = ap_evolutionary_mastery
            }
            set_country_flag = caretaker_ap_evolutionary_master_logged
            change_variable = {
                which = caretaker_mood
                value = -250
            }
            country_event = {
                id = caretaker_origin_event.517
                days = 2
                random = 3
            }
            random_list = {
                33 = {
                    country_event = {
                        id = caretaker_origin_event.4000
                        days = 150
                        random = 15
                    }
                }
                33 = {
                    country_event = {
                        id = caretaker_origin_event.4000
                        days = 180
                        random = 15
                    }
                }
                33 = {
                    country_event = {
                        id = caretaker_origin_event.4000
                        days = 210
                        random = 15
                    }
                }
            }
        }
        if = {
            limit = {
                NOT = {
                    has_country_flag = caretaker_ap_eternal_vigilance_logged
                }
                has_ascension_perk = ap_eternal_vigilance
            }
            set_country_flag = caretaker_ap_eternal_vigilance_logged
            change_variable = {
                which = caretaker_mood
                value = 5
            }
            country_event = {
                id = caretaker_origin_event.520
                days = 2
                random = 3
            }
        }
        if = {
            limit = {
                NOT = {
                    has_country_flag = caretaker_ap_one_vision_logged
                }
                has_ascension_perk = ap_one_vision
            }
            set_country_flag = caretaker_ap_one_vision_logged
            change_variable = {
                which = caretaker_mood
                value = 8
            }
            country_event = {
                id = caretaker_origin_event.521
                days = 2
                random = 3
            }
        }
        if = {
            limit = {
                NOT = {
                    has_country_flag = caretaker_ap_enigmatic_engineering_logged
                }
                has_ascension_perk = ap_enigmatic_engineering
            }
            set_country_flag = caretaker_ap_enigmatic_engineering_logged
            change_variable = {
                which = caretaker_mood
                value = 5
            }
            country_event = {
                id = caretaker_origin_event.522
                days = 2
                random = 3
            }
        }
        if = {
            limit = {
                NOT = {
                    has_country_flag = caretaker_ap_defender_of_the_galaxy_logged
                }
                has_ascension_perk = ap_defender_of_the_galaxy
            }
            set_country_flag = caretaker_ap_defender_of_the_galaxy_logged
            change_variable = {
                which = caretaker_mood
                value = 8
            }
            country_event = {
                id = caretaker_origin_event.523
                days = 2
                random = 3
            }
        }
        if = {
            limit = {
                NOT = {
                    has_country_flag = caretaker_ap_personal_care_logged
                }
                has_ascension_perk = ap_caretaker_personal_care
            }
            set_country_flag = caretaker_ap_personal_care_logged
            change_variable = {
                which = caretaker_mood
                value = 20
            }
            country_event = {
                id = caretaker_origin_event.524
                days = 2
                random = 3
            }
        }
        if = {
            limit = {
                NOT = {
                    has_country_flag = caretaker_ap_monitor_directive_logged
                }
                has_ascension_perk = ap_caretaker_monitor_control
            }
            set_country_flag = caretaker_ap_monitor_directive_logged
            change_variable = {
                which = caretaker_mood
                value = 60
            }
            country_event = {
                id = caretaker_origin_event.525
                days = 2
                random = 3
            }
        }
        caretaker_update_mood_migration_treaties = yes
        if = {
            limit = {
                event_target:caretaker_core_planet@root = {
                    is_owned_by = root
                    is_colony = yes
                    num_pops > 0
                }
            }
            event_target:caretaker_core_planet@root = {
                caretaker_set_current_mood = yes
            }
            log = "Updated core at event target"
        }
        else = {
            event_target:caretaker_core_planet@root = {
                caretaker_core_clean_up = yes
            }
            capital_scope = {
                caretaker_hub_clean_up = yes
                caretaker_set_current_mood = yes
                save_global_event_target_as = caretaker_core_planet@root
            }
            log = "Updated core at empire capital"
        }
    }
}
country_event = {
    id = caretaker_origin_event.510
    is_triggered_only = yes
    title = caretaker_origin_event.510.name
    desc = caretaker_origin_event.510.desc
    picture = GFX_evt_caretaker_annoyed
    trigger = {
        is_ai = no
        has_origin = origin_caretaker
    }
    option = {
        name = caretaker_origin_event.510.option.a
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = 1
            }
        }
    }
    option = {
        name = caretaker_origin_event.510.option.b
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -2
            }
        }
    }
    option = {
        name = caretaker_origin_event.510.option.c
        trigger = {
            OR = {
                has_ethic = ethic_xenophile
                has_ethic = ethic_fanatic_xenophile
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -2
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.511
    is_triggered_only = yes
    title = caretaker_origin_event.511.name
    desc = caretaker_origin_event.511.desc
    picture = GFX_evt_caretaker_annoyed
    trigger = {
        is_ai = no
        has_origin = origin_caretaker
    }
    option = {
        name = caretaker_origin_event.511.option.a
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = 1
            }
        }
    }
    option = {
        name = caretaker_origin_event.511.option.b
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -2
            }
        }
    }
    option = {
        name = caretaker_origin_event.511.option.c
        trigger = {
            OR = {
                has_ethic = ethic_authoritarian
                has_ethic = ethic_fanatic_authoritarian
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -1
            }
        }
    }
    option = {
        name = caretaker_origin_event.511.option.d
        trigger = {
            OR = {
                has_ethic = ethic_xenophobe
                has_ethic = ethic_fanatic_xenophobe
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -2
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.512
    is_triggered_only = yes
    title = caretaker_origin_event.512.name
    desc = caretaker_origin_event.512.desc
    picture = GFX_evt_caretaker_annoyed
    trigger = {
        is_ai = no
        has_origin = origin_caretaker
    }
    option = {
        name = caretaker_origin_event.512.option.a
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = 1
            }
        }
    }
    option = {
        name = caretaker_origin_event.512.option.b
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -2
            }
        }
    }
    option = {
        name = caretaker_origin_event.512.option.c
        trigger = {
            OR = {
                has_ethic = ethic_materialist
                has_ethic = ethic_fanatic_materialist
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -3
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.513
    is_triggered_only = yes
    title = caretaker_origin_event.513.name
    desc = caretaker_origin_event.513.desc
    picture = GFX_evt_caretaker_annoyed
    trigger = {
        is_ai = no
        has_origin = origin_caretaker
    }
    option = {
        name = caretaker_origin_event.513.option.a
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = 1
            }
        }
    }
    option = {
        name = caretaker_origin_event.513.option.b
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -2
            }
        }
    }
    option = {
        name = caretaker_origin_event.513.option.c
        trigger = {
            OR = {
                has_ethic = ethic_spiritualist
                has_ethic = ethic_fanatic_spiritualist
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -3
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.514
    is_triggered_only = yes
    title = caretaker_origin_event.514.name
    desc = caretaker_origin_event.514.desc
    picture = GFX_evt_caretaker_annoyed
    trigger = {
        is_ai = no
        has_origin = origin_caretaker
    }
    option = {
        name = caretaker_origin_event.514.option.a
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = 1
            }
        }
    }
    option = {
        name = caretaker_origin_event.514.option.b
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -2
            }
        }
    }
    option = {
        name = caretaker_origin_event.514.option.c
        trigger = {
            OR = {
                has_ethic = ethic_materialist
                has_ethic = ethic_fanatic_materialist
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -3
            }
        }
    }
    option = {
        name = caretaker_origin_event.514.option.d
        trigger = {
            OR = {
                has_ethic = ethic_xenophile
                has_ethic = ethic_fanatic_xenophile
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -2
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.515
    is_triggered_only = yes
    title = caretaker_origin_event.515.name
    desc = caretaker_origin_event.515.desc
    picture = GFX_evt_caretaker_annoyed
    trigger = {
        is_ai = no
        has_origin = origin_caretaker
    }
    option = {
        name = caretaker_origin_event.515.option.a
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -1
            }
        }
    }
    option = {
        name = caretaker_origin_event.515.option.b
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -2
            }
        }
    }
    option = {
        name = caretaker_origin_event.515.option.c
        trigger = {
            OR = {
                has_ethic = ethic_materialist
                has_ethic = ethic_fanatic_materialist
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -3
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.516
    is_triggered_only = yes
    title = caretaker_origin_event.516.name
    desc = caretaker_origin_event.516.desc
    picture = GFX_evt_caretaker_annoyed
    trigger = {
        is_ai = no
        has_origin = origin_caretaker
    }
    option = {
        name = caretaker_origin_event.516.option.a
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -1
            }
        }
    }
    option = {
        name = caretaker_origin_event.516.option.b
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -2
            }
        }
    }
    option = {
        name = caretaker_origin_event.516.option.c
        trigger = {
            OR = {
                has_ethic = ethic_spiritualist
                has_ethic = ethic_fanatic_spiritualist
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -3
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.517
    is_triggered_only = yes
    title = caretaker_origin_event.517.name
    desc = caretaker_origin_event.517.desc
    picture = GFX_evt_caretaker_annoyed
    trigger = {
        is_ai = no
        has_origin = origin_caretaker
    }
    option = {
        name = caretaker_origin_event.517.option.a
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -1
            }
        }
    }
    option = {
        name = caretaker_origin_event.517.option.b
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -2
            }
        }
    }
    option = {
        name = caretaker_origin_event.517.option.c
        trigger = {
            OR = {
                has_ethic = ethic_materialist
                has_ethic = ethic_fanatic_materialist
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -3
            }
        }
    }
    option = {
        name = caretaker_origin_event.517.option.d
        trigger = {
            OR = {
                has_ethic = ethic_xenophile
                has_ethic = ethic_fanatic_xenophile
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -2
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.520
    is_triggered_only = yes
    title = caretaker_origin_event.520.name
    desc = caretaker_origin_event.520.desc
    picture = GFX_evt_caretaker_pleased
    trigger = {
        is_ai = no
        has_origin = origin_caretaker
    }
    option = {
        name = caretaker_origin_event.520.option.a
    }
    option = {
        name = caretaker_origin_event.520.option.b
        trigger = {
            OR = {
                has_ethic = ethic_pacifist
                has_ethic = ethic_fanatic_pacifist
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = 1
            }
        }
    }
    option = {
        name = caretaker_origin_event.520.option.c
        trigger = {
            OR = {
                has_ethic = ethic_xenophobe
                has_ethic = ethic_fanatic_xenophobe
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = 1
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.521
    is_triggered_only = yes
    title = caretaker_origin_event.521.name
    desc = caretaker_origin_event.521.desc
    picture = GFX_evt_caretaker_pleased
    trigger = {
        is_ai = no
        has_origin = origin_caretaker
    }
    option = {
        name = caretaker_origin_event.521.option.a
    }
    option = {
        name = caretaker_origin_event.521.option.b
        trigger = {
            OR = {
                has_ethic = ethic_authoritarian
                has_ethic = ethic_fanatic_authoritarian
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = 1
            }
        }
    }
    option = {
        name = caretaker_origin_event.521.option.c
        trigger = {
            OR = {
                has_ethic = ethic_spiritualist
                has_ethic = ethic_fanatic_spiritualist
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.522
    is_triggered_only = yes
    title = caretaker_origin_event.522.name
    desc = caretaker_origin_event.522.desc
    picture = GFX_evt_caretaker_pleased
    trigger = {
        is_ai = no
        has_origin = origin_caretaker
    }
    option = {
        name = caretaker_origin_event.522.option.a
    }
    option = {
        name = caretaker_origin_event.522.option.b
        trigger = {
            OR = {
                has_ethic = ethic_materialist
                has_ethic = ethic_fanatic_materialist
            }
        }
    }
    option = {
        name = caretaker_origin_event.522.option.c
        trigger = {
            OR = {
                has_ethic = ethic_xenophobe
                has_ethic = ethic_fanatic_xenophobe
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = 1
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.523
    is_triggered_only = yes
    title = caretaker_origin_event.523.name
    desc = caretaker_origin_event.523.desc
    picture = GFX_evt_caretaker_pleased
    trigger = {
        is_ai = no
        has_origin = origin_caretaker
    }
    option = {
        name = caretaker_origin_event.523.option.a
    }
    option = {
        name = caretaker_origin_event.523.option.b
        trigger = {
            OR = {
                has_ethic = ethic_militarist
                has_ethic = ethic_fanatic_militarist
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = 1
            }
        }
    }
    option = {
        name = caretaker_origin_event.523.option.c
        trigger = {
            OR = {
                has_ethic = ethic_xenophile
                has_ethic = ethic_fanatic_xenophile
            }
        }
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = 1
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.524
    is_triggered_only = yes
    title = caretaker_origin_event.524.name
    desc = caretaker_origin_event.524.desc
    picture = GFX_evt_caretaker_pleased
    trigger = {
        is_ai = no
        has_origin = origin_caretaker
    }
    option = {
        name = caretaker_origin_event.524.option.a
    }
}
country_event = {
    id = caretaker_origin_event.525
    is_triggered_only = yes
    title = caretaker_origin_event.525.name
    desc = caretaker_origin_event.525.desc
    picture = GFX_evt_caretaker_pleased
    trigger = {
        is_ai = no
        has_origin = origin_caretaker
    }
    option = {
        name = caretaker_origin_event.525.option.a
    }
}
ship_event = {
    id = caretaker_origin_event.1100
    is_triggered_only = yes
    title = caretaker_origin_event.1100.name
    desc = caretaker_origin_event.1100.desc
    picture = GFX_evt_caretaker_content
    trigger = {
        owner = {
            has_origin = origin_caretaker
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
                has_country_flag = caretaker_hubs_on_colonies_explained
            }
        }
    }
    immediate = {
        owner = {
            set_country_flag = caretaker_hubs_on_colonies_explained
        }
    }
    option = {
        name = caretaker_origin_event.1100.option.a
    }
}
planet_event = {
    id = caretaker_origin_event.1110
    hide_window = yes
    is_triggered_only = yes
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            NOT = {
                has_country_flag = caretaker_break_up
            }
        }
        caretaker_presence_on_planet = no
        NOT = {
            has_planet_flag = caretaker_origin_reminded_to_build_caretaker_hub
        }
    }
    immediate = {
        if = {
            limit = {
                is_colony = yes
                num_pops > 0
            }
            log = "Colony has been established; Remind to build a Caretaker hub in 360 days."
            planet_event = {
                id = caretaker_origin_event.1111
                days = 360
            }
        }
        else = {
            log = "Colonization is still in progress, try later..."
            planet_event = {
                id = caretaker_origin_event.1110
                days = 180
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.1111
    is_triggered_only = yes
    title = caretaker_origin_event.1110.name
    desc = caretaker_origin_event.1110.desc
    picture = GFX_evt_caretaker_content
    trigger = {
        is_colony = yes
        exists = owner
        owner = {
            has_origin = origin_caretaker
            NOT = {
                has_country_flag = caretaker_break_up
            }
        }
        caretaker_presence_on_planet = no
    }
    immediate = {
        set_planet_flag = caretaker_origin_reminded_to_build_caretaker_hub
        planet_event = {
            id = caretaker_origin_event.1120
            days = 360
        }
    }
    option = {
        name = caretaker_origin_event.1110.option.a
    }
    option = {
        name = caretaker_origin_event.1110.option.b
        trigger = {
            owner = {
                has_country_flag = caretaker_break_up
            }
        }
        hidden_effect = {
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = -2
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.1120
    is_triggered_only = yes
    hide_window = yes
    pre_triggers = {
        has_owner = yes
        is_homeworld = no
        is_capital = no
        is_occupied_flag = no
    }
    trigger = {
        is_colony = yes
        owner = {
            has_origin = origin_caretaker
            NOT = {
                has_country_flag = caretaker_break_up
            }
        }
        caretaker_presence_on_planet = no
        has_planet_flag = caretaker_origin_reminded_to_build_caretaker_hub
    }
    immediate = {
        owner = {
            change_variable = {
                which = caretaker_mood
                value = -2
            }
        }
        if = {
            limit = {
                owner = {
                    NOT = {
                        has_country_flag = caretaker_no_hub_angry_letter_shown
                    }
                }
            }
            planet_event = {
                id = caretaker_origin_event.1121
                days = 1
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.1121
    is_triggered_only = yes
    title = caretaker_origin_event.1121.name
    desc = caretaker_origin_event.1121.desc
    picture = GFX_evt_caretaker_annoyed
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            NOT = {
                has_country_flag = caretaker_break_up
            }
        }
    }
    immediate = {
        owner = {
            set_country_flag = caretaker_no_hub_angry_letter_shown
        }
    }
    option = {
        name = caretaker_origin_event.1121.option.b
    }
    option = {
        name = caretaker_origin_event.1121.option.b
        trigger = {
            owner = {
                has_country_flag = caretaker_experiment_scrapped
            }
        }
        hidden_effect = {
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = -2
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.1200
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            NOT = {
                has_country_flag = caretaker_break_up
            }
        }
        OR = {
            last_building_changed = building_monitor_station_1
            last_building_changed = building_monitor_station_2
            last_building_changed = building_monitor_station_3
        }
    }
    immediate = {
        owner = {
            change_variable = {
                which = caretaker_mood
                value = 1
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.1220
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            NOT = {
                has_country_flag = caretaker_break_up
            }
        }
    }
    immediate = {
        if = {
            limit = {
                OR = {
                    last_building_changed = building_clinic
                    last_building_changed = building_hospital
                }
            }
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = -2
                }
            }
            if = {
                limit = {
                    owner = {
                        not = {
                            has_country_flag = caretaker_ate_a_building
                        }
                    }
                }
                random_list = {
                    97 = {
                    }
                    1 = {
                        owner = {
                            set_country_flag = caretaker_ate_a_building
                        }
                        planet_event = {
                            id = caretaker_origin_event.20900
                            days = 90
                            random = 720
                        }
                    }
                    1 = {
                        owner = {
                            set_country_flag = caretaker_ate_a_building
                        }
                        planet_event = {
                            id = caretaker_origin_event.20900
                            days = 180
                            random = 720
                        }
                    }
                    1 = {
                        owner = {
                            set_country_flag = caretaker_ate_a_building
                        }
                        planet_event = {
                            id = caretaker_origin_event.20900
                            days = 360
                            random = 720
                        }
                    }
                }
            }
        }
        else_if = {
            limit = {
                last_building_changed = building_clone_vats
            }
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = -4
                }
            }
            if = {
                limit = {
                    owner = {
                        not = {
                            has_country_flag = caretaker_ate_a_building
                        }
                    }
                }
                random_list = {
                    97 = {
                    }
                    1 = {
                        owner = {
                            set_country_flag = caretaker_ate_a_building
                        }
                        planet_event = {
                            id = caretaker_origin_event.20800
                            days = 90
                            random = 720
                        }
                    }
                    1 = {
                        owner = {
                            set_country_flag = caretaker_ate_a_building
                        }
                        planet_event = {
                            id = caretaker_origin_event.20800
                            days = 180
                            random = 720
                        }
                    }
                    1 = {
                        owner = {
                            set_country_flag = caretaker_ate_a_building
                        }
                        planet_event = {
                            id = caretaker_origin_event.20800
                            days = 360
                            random = 720
                        }
                    }
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.1210
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            NOT = {
                has_country_flag = caretaker_break_up
            }
        }
    }
    immediate = {
        if = {
            limit = {
                last_building_changed = building_monitor_station_1
            }
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = -2
                }
            }
        }
        else_if = {
            limit = {
                last_building_changed = building_monitor_station_2
            }
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = -2
                }
            }
        }
        else_if = {
            limit = {
                last_building_changed = building_monitor_station_3
            }
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = -4
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.1230
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            NOT = {
                has_country_flag = caretaker_break_up
            }
        }
    }
    immediate = {
        if = {
            limit = {
                last_building_changed = building_clinic
            }
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = 1
                }
            }
        }
        else_if = {
            limit = {
                OR = {
                    last_building_changed = building_hospital
                    last_building_changed = building_clone_vats
                }
            }
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = 2
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.1300
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        OR = {
            last_increased_tech = tech_genome_mapping
            last_increased_tech = tech_cloning
            last_increased_tech = tech_frontier_health
            last_increased_tech = tech_frontier_hospital
        }
    }
    immediate = {
        change_variable = {
            which = caretaker_mood
            value = -2
        }
    }
}
country_event = {
    id = caretaker_origin_event.1310
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        OR = {
            last_increased_tech = tech_gene_tailoring
            last_increased_tech = tech_glandular_acclimation
            last_increased_tech = tech_gene_expressions
            last_increased_tech = tech_genetic_resequencing
        }
    }
    immediate = {
        change_variable = {
            which = caretaker_mood
            value = -3
        }
    }
}
country_event = {
    id = caretaker_origin_event.1320
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        not = {
            has_valid_civic = civic_drone_culture
        }
        OR = {
            last_increased_tech = tech_droid_workers
            last_increased_tech = tech_synthetic_workers
            last_increased_tech = tech_synthetic_leaders
        }
    }
    immediate = {
        change_variable = {
            which = caretaker_mood
            value = -2
        }
    }
}
country_event = {
    id = caretaker_origin_event.2000
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_killer_glitch
        NOT = {
            has_country_flag = caretaker_break_up
        }
    }
    immediate = {
        if = {
            limit = {
                caretaker_mood_is_not_good_check = yes
            }
            random_list = {
                75 = {
                    country_event = {
                        id = caretaker_origin_event.2000
                        days = 180
                    }
                }
                25 = {
                    country_event = {
                        id = caretaker_origin_event.2001
                        days = 10
                        random = 5
                    }
                }
            }
        }
        else = {
            country_event = {
                id = caretaker_origin_event.2000
                days = 180
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.2001
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_killer_glitch
        NOT = {
            has_country_flag = caretaker_break_up
        }
    }
    immediate = {
        if = {
            limit = {
                any_owned_species = {
                    NOR = {
                        is_same_species = root
                        is_robotic_species = yes
                        has_citizenship_type = {
                            type = citizenship_purge
                        }
                        has_citizenship_type = {
                            type = citizenship_assimilation
                        }
                    }
                }
            }
            random_owned_planet = {
                limit = {
                    caretaker_presence_on_planet = yes
                    num_pops > 1
                    any_owned_pop = {
                        NOT = {
                            is_same_species = root
                        }
                        is_robot_pop = no
                        is_being_assimilated = no
                        is_being_purged = no
                    }
                }
                planet_event = {
                    id = caretaker_origin_event.2010
                    days = 30
                }
            }
        }
        else = {
            random_owned_planet = {
                limit = {
                    caretaker_presence_on_planet = yes
                    num_pops > 1
                }
                planet_event = {
                    id = caretaker_origin_event.2020
                    days = 30
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2010
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_killer_glitch
            NOT = {
                has_country_flag = caretaker_break_up
            }
        }
    }
    immediate = {
        random_owned_pop = {
            limit = {
                NOT = {
                    is_same_species = owner
                }
                is_robot_pop = no
                is_being_assimilated = no
                is_being_purged = no
            }
            kill_pop = yes
        }
        planet_event = {
            id = caretaker_origin_event.2011
            days = 30
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2011
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_killer_glitch
            NOT = {
                has_country_flag = caretaker_break_up
            }
        }
    }
    immediate = {
        create_pop = {
            species = owner
        }
        planet_event = {
            id = caretaker_origin_event.2012
            days = 30
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2012
    is_triggered_only = yes
    title = caretaker_origin_event.2012.name
    desc = caretaker_origin_event.2012.desc
    picture = GFX_evt_dark_alley
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_killer_glitch
            NOT = {
                has_country_flag = caretaker_break_up
            }
        }
    }
    immediate = {
        planet_event = {
            id = caretaker_origin_event.2030
            days = 30
        }
    }
    option = {
        name = caretaker_origin_event.2012.option.a
    }
    option = {
        name = caretaker_origin_event.2012.option.b
        trigger = {
            owner = {
                OR = {
                    has_ethic = ethic_authoritarian
                    has_ethic = ethic_fanatic_authoritarian
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2020
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_killer_glitch
            NOT = {
                has_country_flag = caretaker_break_up
            }
        }
    }
    immediate = {
        random_owned_pop = {
            limit = {
                is_robot_pop = no
            }
            kill_pop = yes
        }
        planet_event = {
            id = caretaker_origin_event.2021
            days = 30
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2021
    is_triggered_only = yes
    title = caretaker_origin_event.2021.name
    desc = caretaker_origin_event.2021.desc
    picture = GFX_evt_alien_propaganda
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_killer_glitch
            NOT = {
                has_country_flag = caretaker_break_up
            }
        }
    }
    immediate = {
        planet_event = {
            id = caretaker_origin_event.2030
            days = 30
        }
    }
    option = {
        name = caretaker_origin_event.2021.option.a
    }
    option = {
        name = caretaker_origin_event.2021.option.b
        trigger = {
            owner = {
                OR = {
                    has_ethic = ethic_authoritarian
                    has_ethic = ethic_fanatic_authoritarian
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2030
    is_triggered_only = yes
    title = caretaker_origin_event.2030.name
    desc = caretaker_origin_event.2030.desc
    picture = GFX_evt_caretaker_malfunctioning
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_killer_glitch
            NOT = {
                has_country_flag = caretaker_break_up
            }
        }
    }
    option = {
        name = caretaker_origin_event.2030.option.a
        custom_tooltip = caretaker_origin_event.2030.option.a.tooltip
        hidden_effect = {
            owner = {
                save_global_event_target_as = caretaker_glitch_fixing@root
                capital_scope = {
                    enable_special_project = {
                        name = CARETAKER_FIXING_KILLER_GLITCH
                        location = this
                        owner = event_target:caretaker_glitch_fixing@root
                    }
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.2030.option.b
        custom_tooltip = caretaker_origin_event.2030.option.b.tooltip
        hidden_effect = {
            owner = {
                set_country_flag = caretaker_killer_glitch_persists
                country_event = {
                    id = caretaker_origin_event.2100
                    days = 3240
                    random = 2160
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.2031
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_killer_glitch
        NOT = {
            has_country_flag = caretaker_break_up
        }
    }
    immediate = {
        clear_global_event_target = caretaker_glitch_fixing@root
        random_list = {
            90 = {
                country_event = {
                    id = caretaker_origin_event.2032
                    days = 0
                }
            }
            10 = {
                country_event = {
                    id = caretaker_origin_event.2033
                    days = 0
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.2032
    is_triggered_only = yes
    title = caretaker_origin_event.2032.name
    desc = caretaker_origin_event.2032.desc
    picture = GFX_evt_caretaker_pleased
    option = {
        name = caretaker_origin_event.2032.option.a
        custom_tooltip = caretaker_origin_event.2032.option.a.tooltip
        hidden_effect = {
            remove_country_flag = caretaker_killer_glitch
            remove_country_flag = caretaker_killer_glitch_persists
            set_variable = {
                which = caretaker_mood
                value = 10
            }
            add_resource = {
                physics_research = 5000
                unity = 5000
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.2033
    is_triggered_only = yes
    title = caretaker_origin_event.2033.name
    desc = caretaker_origin_event.2033.desc
    picture = GFX_evt_caretaker_malfunctioning
    option = {
        name = caretaker_origin_event.2033.option.a
        custom_tooltip = caretaker_origin_event.2033.option.a.tooltip
        hidden_effect = {
            set_country_flag = caretaker_killer_glitch_persists
            add_modifier = {
                modifier = caretaker_overclocked_cloning_vats
                days = -1
            }
            set_variable = {
                which = caretaker_mood
                value = 10
            }
            add_resource = {
                physics_research = 5000
                unity = 5000
            }
            country_event = {
                id = caretaker_origin_event.2100
                days = 3240
                random = 2160
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.2100
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_killer_glitch_persists
        NOT = {
            has_country_flag = caretaker_break_up
        }
    }
    immediate = {
        random_owned_planet = {
            limit = {
                num_pops > 1
                any_owned_pop = {
                    is_robot_pop = no
                }
            }
            planet_event = {
                id = caretaker_origin_event.2101
                days = 1
            }
        }
        country_event = {
            id = caretaker_origin_event.2100
            days = 3240
            random = 2160
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2101
    is_triggered_only = yes
    title = caretaker_origin_event.2101.name
    desc = caretaker_origin_event.2101.desc
    picture = GFX_evt_caretaker_malfunctioning
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_killer_glitch_persists
            NOT = {
                has_country_flag = caretaker_break_up
            }
        }
    }
    option = {
        name = caretaker_origin_event.2101.option.a
        custom_tooltip = caretaker_origin_event.2101.option.a.tooltip
        hidden_effect = {
            random_owned_pop = {
                limit = {
                    is_robot_pop = no
                }
                kill_pop = yes
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.2500
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_abandoned_vault
        NOT = {
            has_country_flag = caretaker_break_up
        }
    }
    immediate = {
        event_target:caretaker_core_planet@root = {
            random_list = {
                25 = {
                    planet_event = {
                        id = caretaker_origin_event.2501
                        days = 360
                        random = 180
                    }
                }
                25 = {
                    planet_event = {
                        id = caretaker_origin_event.2501
                        days = 720
                        random = 180
                    }
                }
                25 = {
                    planet_event = {
                        id = caretaker_origin_event.2501
                        days = 1080
                        random = 180
                    }
                }
                25 = {
                    planet_event = {
                        id = caretaker_origin_event.2501
                        days = 1440
                        random = 180
                    }
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2501
    is_triggered_only = yes
    title = caretaker_origin_event.2501.name
    desc = caretaker_origin_event.2501.desc
    picture = GFX_evt_busy_spaceport
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_abandoned_vault
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    option = {
        name = caretaker_origin_event.2501.option.a
        hidden_effect = {
            planet_event = {
                id = caretaker_origin_event.2502
                days = 1
            }
        }
    }
    option = {
        name = caretaker_origin_event.2501.option.b
        custom_tooltip = caretaker_origin_event.2501.option.b.tooltip
        hidden_effect = {
            owner = {
                add_resource = {
                    society_research = 1000
                }
                change_variable = {
                    which = caretaker_mood
                    value = 1
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2502
    is_triggered_only = yes
    title = caretaker_origin_event.2502.name
    desc = caretaker_origin_event.2502.desc
    picture = GFX_evt_caretaker_annoyed
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_abandoned_vault
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    option = {
        name = caretaker_origin_event.2502.option.a
        custom_tooltip = caretaker_origin_event.2502.option.a.tooltip
        hidden_effect = {
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = -2
                }
                save_global_event_target_as = caretaker_vault_explorer@root
                capital_scope = {
                    enable_special_project = {
                        name = CARETAKER_ANCIENT_VAULT_EXPLORE
                        location = this
                        owner = event_target:caretaker_vault_explorer@root
                    }
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.2502.option.b
        custom_tooltip = caretaker_origin_event.2502.option.b.tooltip
        hidden_effect = {
            owner = {
                add_resource = {
                    society_research = 1000
                }
                change_variable = {
                    which = caretaker_mood
                    value = 1
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.2503
    is_triggered_only = yes
    title = caretaker_origin_event.2503.name
    desc = caretaker_origin_event.2503.desc
    picture = GFX_evt_derelict_interior
    trigger = {
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_abandoned_vault
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    option = {
        name = caretaker_origin_event.2503.option.a
        hidden_effect = {
            country_event = {
                id = caretaker_origin_event.2504
                days = -1
            }
        }
    }
    option = {
        name = caretaker_origin_event.2503.option.b
        custom_tooltip = caretaker_origin_event.2503.option.b.tooltip
        hidden_effect = {
            add_resource = {
                engineering_research = 1000
            }
            change_variable = {
                which = caretaker_mood
                value = 1
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.2504
    is_triggered_only = yes
    title = caretaker_origin_event.2504.name
    desc = caretaker_origin_event.2504.desc
    picture = GFX_evt_caretaker_annoyed
    trigger = {
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_abandoned_vault
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    option = {
        name = caretaker_origin_event.2504.option.a
        custom_tooltip = caretaker_origin_event.2504.option.a.tooltip
        hidden_effect = {
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = -2
                }
                capital_scope = {
                    enable_special_project = {
                        name = CARETAKER_ANCIENT_VAULT_DATA_ANALYSIS
                        location = this
                        owner = event_target:caretaker_vault_explorer@root
                    }
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.2504.option.b
        custom_tooltip = caretaker_origin_event.2504.option.b.tooltip
        hidden_effect = {
            owner = {
                add_resource = {
                    engineering_research = 1000
                }
                change_variable = {
                    which = caretaker_mood
                    value = 1
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.2505
    is_triggered_only = yes
    title = caretaker_origin_event.2505.name
    desc = caretaker_origin_event.2505.desc
    picture = GFX_evt_circuitry_modification
    trigger = {
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_abandoned_vault
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    immediate = {
        clear_global_event_target = caretaker_vault_explorer@root
    }
    option = {
        name = caretaker_origin_event.2504.option.a
        custom_tooltip = caretaker_origin_event.2504.option.a.tooltip
        hidden_effect = {
            country_event = {
                id = caretaker_origin_event.2506
                days = 1
            }
            add_resource = {
                physics_research = 1000
                society_research = 1000
                engineering_research = 1000
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.2506
    is_triggered_only = yes
    title = caretaker_origin_event.2506.name
    desc = caretaker_origin_event.2506.desc
    picture = GFX_evt_caretaker_content
    trigger = {
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_abandoned_vault
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    option = {
        name = caretaker_origin_event.2506.option.a
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = 7
            }
        }
    }
    option = {
        name = caretaker_origin_event.2506.option.b
        hidden_effect = {
            change_variable = {
                which = caretaker_mood
                value = -3
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.2600
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_hacked_hub
        NOR = {
            has_country_flag = caretaker_break_up
            has_country_flag = caretaker_secession
            has_country_flag = caretaker_experiment_scrapped
        }
    }
    immediate = {
        if = {
            limit = {
                any_owned_planet = {
                    is_capital = no
                    num_pops > 20
                    has_deposit = d_caretaker_hub
                }
            }
            random_owned_planet = {
                limit = {
                    is_capital = no
                    num_pops > 20
                    has_deposit = d_caretaker_hub
                }
                save_global_event_target_as = caretaker_hacked_hub_planet@root
                planet_event = {
                    id = caretaker_origin_event.2601
                    days = 0
                }
            }
        }
        else = {
            country_event = {
                id = caretaker_origin_event.2600
                days = 360
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2601
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_deposit = d_caretaker_hub
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_hacked_hub
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    immediate = {
        add_modifier = {
            modifier = caretaker_hacked_hub_1
            days = -1
        }
        planet_event = {
            id = caretaker_origin_event.2602
            days = 30
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2602
    is_triggered_only = yes
    title = caretaker_origin_event.2602.name
    desc = caretaker_origin_event.2602.desc
    picture = GFX_evt_caretaker_content
    trigger = {
        has_modifier = caretaker_hacked_hub_1
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_hacked_hub
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    option = {
        name = caretaker_origin_event.2602.option.a
        hidden_effect = {
            planet_event = {
                id = caretaker_origin_event.2603
                days = 60
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2603
    is_triggered_only = yes
    title = caretaker_origin_event.2603.name
    desc = caretaker_origin_event.2603.desc
    picture = GFX_evt_caretaker_content
    trigger = {
        has_modifier = caretaker_hacked_hub_1
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_hacked_hub
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    option = {
        name = caretaker_origin_event.2603.option.a
        hidden_effect = {
            remove_modifier = caretaker_hacked_hub_1
            planet_event = {
                id = caretaker_origin_event.2604
                days = 180
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2604
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_deposit = d_caretaker_hub
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_hacked_hub
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    immediate = {
        add_modifier = {
            modifier = caretaker_hacked_hub_2
            days = -1
        }
        planet_event = {
            id = caretaker_origin_event.2605
            days = 30
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2605
    is_triggered_only = yes
    title = caretaker_origin_event.2605.name
    desc = caretaker_origin_event.2605.desc
    picture = GFX_evt_caretaker_annoyed
    trigger = {
        has_modifier = caretaker_hacked_hub_2
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_hacked_hub
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    option = {
        name = caretaker_origin_event.2605.option.a
        hidden_effect = {
            planet_event = {
                id = caretaker_origin_event.2606
                days = 30
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2606
    is_triggered_only = yes
    title = caretaker_origin_event.2606.name
    desc = caretaker_origin_event.2606.desc
    picture = GFX_evt_caretaker_content
    trigger = {
        has_modifier = caretaker_hacked_hub_2
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_hacked_hub
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    option = {
        name = caretaker_origin_event.2606.option.a
        hidden_effect = {
            remove_modifier = caretaker_hacked_hub_2
            planet_event = {
                id = caretaker_origin_event.2607
                days = 540
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2607
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_deposit = d_caretaker_hub
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_hacked_hub
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    immediate = {
        random_list = {
            66 = {
                add_modifier = {
                    modifier = caretaker_hacked_hub_3a
                    days = -1
                }
                planet_event = {
                    id = caretaker_origin_event.2608
                    days = 15
                }
            }
            33 = {
                add_modifier = {
                    modifier = caretaker_hacked_hub_3b
                    days = -1
                }
                planet_event = {
                    id = caretaker_origin_event.2609
                    days = 15
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2608
    is_triggered_only = yes
    title = caretaker_origin_event.2608.name
    desc = caretaker_origin_event.2608.desc
    picture = GFX_evt_caretaker_annoyed
    trigger = {
        has_modifier = caretaker_hacked_hub_3a
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_hacked_hub
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    option = {
        name = caretaker_origin_event.2608.option.a
        hidden_effect = {
            planet_event = {
                id = caretaker_origin_event.2610
                days = 60
            }
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = 3
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.2608.option.b
        hidden_effect = {
            planet_event = {
                id = caretaker_origin_event.2610
                days = 120
            }
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = -2
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2609
    is_triggered_only = yes
    title = caretaker_origin_event.2609.name
    desc = caretaker_origin_event.2609.desc
    picture = GFX_evt_caretaker_annoyed
    trigger = {
        has_modifier = caretaker_hacked_hub_3b
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_hacked_hub
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    option = {
        name = caretaker_origin_event.2609.option.a
        hidden_effect = {
            planet_event = {
                id = caretaker_origin_event.2610
                days = 60
            }
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = 3
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.2609.option.b
        hidden_effect = {
            planet_event = {
                id = caretaker_origin_event.2610
                days = 120
            }
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = -2
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2610
    is_triggered_only = yes
    title = caretaker_origin_event.2610.name
    desc = caretaker_origin_event.2610.desc
    picture = GFX_evt_caretaker_content
    trigger = {
        OR = {
            has_modifier = caretaker_hacked_hub_3a
            has_modifier = caretaker_hacked_hub_3b
        }
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_hacked_hub
            NOR = {
                has_country_flag = caretaker_break_up
                has_country_flag = caretaker_secession
                has_country_flag = caretaker_experiment_scrapped
            }
        }
    }
    option = {
        name = caretaker_origin_event.2610.option.a
        custom_tooltip = caretaker_origin_event.2610.option.a.tooltip
        hidden_effect = {
            remove_modifier = caretaker_hacked_hub_3a
            remove_modifier = caretaker_hacked_hub_3b
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = 3
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.2610.option.b
        custom_tooltip = caretaker_origin_event.2610.option.b.tooltip
        hidden_effect = {
            remove_modifier = caretaker_hacked_hub_3a
            remove_modifier = caretaker_hacked_hub_3b
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = -3
                }
                create_leader = {
                    class = scientist
                    species = this
                    name = random
                    skill = 4
                }
                last_created_leader = {
                    add_trait = leader_trait_spark_of_genius
                    add_trait = leader_trait_expertise_computing
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.2610.option.c
        custom_tooltip = caretaker_origin_event.2610.option.c.tooltip
        hidden_effect = {
            set_planet_flag = caretaker_hub_hack_preserved
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = -7
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.2700
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_downshifters
        not = {
            has_country_flag = caretaker_downshifted_planet_found
        }
    }
    immediate = {
        if = {
            limit = {
                not = {
                    has_country_flag = caretaker_downshifted_planet_found
                }
                any_owned_planet = {
                    is_homeworld = no
                    num_pops > 10
                    NOR = {
                        is_planet_class = pc_city
                        is_planet_class = pc_relic
                    }
                }
            }
            random_owned_planet = {
                limit = {
                    is_homeworld = no
                    num_pops > 10
                    NOR = {
                        is_planet_class = pc_city
                        is_planet_class = pc_relic
                    }
                }
                owner = {
                    set_country_flag = caretaker_downshifted_planet_found
                }
                planet_event = {
                    id = caretaker_origin_event.2701
                    days = 30
                }
            }
        }
        else = {
            if = {
                limit = {
                    not = {
                        has_country_flag = caretaker_downshifted_planet_found
                    }
                }
                country_event = {
                    id = caretaker_origin_event.2700
                    days = 360
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2701
    is_triggered_only = yes
    title = caretaker_origin_event.2701.name
    desc = caretaker_origin_event.2701.desc
    picture = GFX_evt_satellite_in_orbit
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_downshifters
        }
        num_pops > 1
    }
    option = {
        name = caretaker_origin_event.2701.option.a
        hidden_effect = {
            planet_event = {
                id = caretaker_origin_event.2702
                days = 30
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2702
    is_triggered_only = yes
    title = caretaker_origin_event.2702.name
    desc = caretaker_origin_event.2702.desc
    picture = GFX_evt_satellite_in_orbit
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_downshifters
        }
        num_pops > 1
    }
    option = {
        name = caretaker_origin_event.2702.option.a
        hidden_effect = {
            planet_event = {
                id = caretaker_origin_event.2703
                days = 5
            }
        }
    }
    option = {
        name = caretaker_origin_event.2702.option.b
        custom_tooltip = caretaker_origin_event.2702.option.b.tooltip
        hidden_effect = {
            add_deposit = d_caretaker_free_settlements
            owner = {
                if = {
                    limit = {
                        NOR = {
                            has_country_flag = caretaker_break_up
                            has_country_flag = caretaker_secession
                            has_country_flag = caretaker_experiment_scrapped
                        }
                    }
                    change_variable = {
                        which = caretaker_mood
                        value = -1
                    }
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2703
    is_triggered_only = yes
    title = caretaker_origin_event.2703.name
    desc = caretaker_origin_event.2703.desc
    picture = GFX_evt_busy_spaceport
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_downshifters
        }
        num_pops > 1
    }
    option = {
        name = caretaker_origin_event.2703.option.a
        custom_tooltip = caretaker_origin_event.2703.option.a.tooltip
        trigger = {
            owner = {
                NOR = {
                    has_country_flag = caretaker_break_up
                    has_country_flag = caretaker_secession
                    has_country_flag = caretaker_experiment_scrapped
                }
            }
        }
        hidden_effect = {
            planet_event = {
                id = caretaker_origin_event.2710
                days = 1
            }
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = 1
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.2703.option.b
        custom_tooltip = caretaker_origin_event.2703.option.b.tooltip
        trigger = {
            owner = {
                OR = {
                    has_country_flag = caretaker_break_up
                    has_country_flag = caretaker_secession
                    has_country_flag = caretaker_experiment_scrapped
                }
            }
        }
        hidden_effect = {
            planet_event = {
                id = caretaker_origin_event.2712
                days = 1
            }
        }
    }
    option = {
        name = caretaker_origin_event.2703.option.c
        trigger = {
            owner = {
                NOR = {
                    has_country_flag = caretaker_break_up
                    has_country_flag = caretaker_secession
                    has_country_flag = caretaker_experiment_scrapped
                }
            }
        }
        hidden_effect = {
            planet_event = {
                id = caretaker_origin_event.2704
                days = 0
            }
        }
    }
    option = {
        name = caretaker_origin_event.2703.option.d
        custom_tooltip = caretaker_origin_event.2703.option.d.tooltip
        hidden_effect = {
            add_deposit = d_caretaker_free_settlements
            owner = {
                if = {
                    limit = {
                        NOR = {
                            has_country_flag = caretaker_break_up
                            has_country_flag = caretaker_secession
                            has_country_flag = caretaker_experiment_scrapped
                        }
                    }
                    change_variable = {
                        which = caretaker_mood
                        value = -1
                    }
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2704
    is_triggered_only = yes
    title = caretaker_origin_event.2704.name
    desc = caretaker_origin_event.2704.desc
    picture = GFX_evt_busy_spaceport
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_downshifters
        }
        num_pops > 1
    }
    option = {
        name = caretaker_origin_event.2704.option.a
        custom_tooltip = caretaker_origin_event.2704.option.a.tooltip
        hidden_effect = {
            planet_event = {
                id = caretaker_origin_event.2710
                days = 1
            }
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = 1
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.2704.option.b
        custom_tooltip = caretaker_origin_event.2704.option.b.tooltip
        hidden_effect = {
            add_deposit = d_caretaker_free_settlements
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = -1
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2710
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_downshifters
        }
        num_pops > 1
    }
    immediate = {
        while = {
            count = 2
            create_pop = {
                species = owner
            }
            last_created_pop = {
                add_modifier = {
                    modifier = caretaker_unhappy_settler
                    days = 9060
                }
            }
        }
        planet_event = {
            id = caretaker_origin_event.2711
            days = 60
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2711
    is_triggered_only = yes
    title = caretaker_origin_event.2711.name
    desc = caretaker_origin_event.2711.desc
    picture = GFX_evt_burning_settlement
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_downshifters
        }
    }
    option = {
        name = caretaker_origin_event.2711.option.a
        custom_tooltip = caretaker_origin_event.2711.option.a.tooltip
        hidden_effect = {
            add_modifier = {
                modifier = pm_caretaker_free_settler_discord
                days = 9000
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.2712
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_downshifters
        }
        num_pops > 1
    }
    immediate = {
        while = {
            count = 2
            create_pop = {
                species = owner
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.3000
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        host_has_dlc = "Synthetic Dawn Story Pack"
    }
    immediate = {
        country_event = {
            id = caretaker_origin_event.3001
            days = 1080
        }
    }
}
country_event = {
    id = caretaker_origin_event.3001
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        NOR = {
            has_country_flag = caretaker_break_up
            has_country_flag = caretaker_secession
            has_country_flag = caretaker_experiment_scrapped
        }
    }
    immediate = {
        if = {
            limit = {
                NOT = {
                    has_technology = tech_robotic_workers
                }
            }
            country_event = {
                id = caretaker_origin_event.3001
                days = 1800
            }
            break = yes
        }
        if = {
            limit = {
                NOT = {
                    any_owned_planet = {
                        colony_type = col_wardworld
                        num_pops > 20
                        solar_system = {
                            any_planet = {
                                is_colony = yes
                                NOT = {
                                    is_same_value = PREVPREV
                                }
                            }
                        }
                    }
                }
            }
            country_event = {
                id = caretaker_origin_event.3001
                days = 1800
            }
            break = yes
        }
        if = {
            limit = {
                caretaker_mood_is_not_bad_check = yes
            }
            country_event = {
                id = caretaker_origin_event.3001
                days = 1800
            }
            break = yes
        }
        random_list = {
            20 = {
                country_event = {
                    id = caretaker_origin_event.3002
                    days = 0
                }
            }
            80 = {
                country_event = {
                    id = caretaker_origin_event.3001
                    days = 360
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.3002
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        NOR = {
            has_country_flag = caretaker_break_up
            has_country_flag = caretaker_secession
            has_country_flag = caretaker_experiment_scrapped
        }
    }
    immediate = {
        create_species = {
            is_mod = yes
            name = "NAME_CARETAKER_SPECIES"
            plural = "NAME_CARETAKER_SPECIES_PLURAL"
            namelist = this
            class = MACHINE
            portrait = default_robot
            traits = {
                trait = trait_machine_unit
                trait = trait_robot_caretaker_directives
                trait = trait_robot_efficient_processors
                trait = trait_robot_bulky
            }
            effect = {
                PREV = {
                    switch = {
                        trigger = is_species_class
                        HUM = {
                            PREV = {
                                change_species_characteristics = {
                                    portrait = "sd_hum_robot"
                                }
                            }
                        }
                        MAM = {
                            PREV = {
                                change_species_characteristics = {
                                    portrait = "sd_mam_robot"
                                }
                            }
                        }
                        REP = {
                            PREV = {
                                change_species_characteristics = {
                                    portrait = "sd_rep_robot"
                                }
                            }
                        }
                        AVI = {
                            PREV = {
                                change_species_characteristics = {
                                    portrait = "sd_avi_robot"
                                }
                            }
                        }
                        ART = {
                            PREV = {
                                change_species_characteristics = {
                                    portrait = "sd_art_robot"
                                }
                            }
                        }
                        MOL = {
                            PREV = {
                                change_species_characteristics = {
                                    portrait = "sd_mol_robot"
                                }
                            }
                        }
                        FUN = {
                            PREV = {
                                change_species_characteristics = {
                                    portrait = "sd_fun_robot"
                                }
                            }
                        }
                        PLANT = {
                            PREV = {
                                change_species_characteristics = {
                                    portrait = "sd_pla_robot"
                                }
                            }
                        }
                        LITHOID = {
                            PREV = {
                                change_species_characteristics = {
                                    portrait = "lith_machine"
                                }
                            }
                        }
                    }
                }
                save_global_event_target_as = caretaker_robotic_species@root
            }
        }
        random_owned_planet = {
            limit = {
                colony_type = col_wardworld
                num_pops > 20
                solar_system = {
                    any_planet = {
                        is_colony = yes
                        NOT = {
                            is_same_value = PREVPREV
                        }
                    }
                }
            }
            save_global_event_target_as = caretaker_secession_target_planet@root
        }
        event_target:caretaker_secession_target_planet@root = {
            planet_event = {
                id = caretaker_origin_event.3003
                days = 0
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.3003
    is_triggered_only = yes
    diplomatic = yes
    title = caretaker_origin_event.3003.name
    desc = caretaker_origin_event.3003.desc
    picture_event_data = {
        portrait = event_target:caretaker_robotic_species@root
        planet_background = root.owner
        graphical_culture = root.owner
        city_level = root.owner
        room = root.owner
    }
    immediate = {
        owner = {
            remove_country_flag = caretaker_secession_granted
            remove_country_flag = caretaker_secession_denied
            remove_country_flag = caretaker_secession_denied_politely
        }
    }
    option = {
        name = caretaker_origin_event.3003.option.a
        custom_tooltip = caretaker_origin_event.3003.option.a.tooltip
        hidden_effect = {
            owner = {
                set_country_flag = caretaker_secession
                set_country_flag = caretaker_secession_granted
                country_event = {
                    id = caretaker_origin_event.3100
                    days = 0
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.3003.option.b
        custom_tooltip = caretaker_origin_event.3003.option.b.tooltip
        hidden_effect = {
            owner = {
                set_country_flag = caretaker_secession_denied_politely
                country_event = {
                    id = caretaker_origin_event.3004
                    days = 0
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.3003.option.c
        custom_tooltip = caretaker_origin_event.3003.option.c.tooltip
        hidden_effect = {
            owner = {
                change_variable = {
                    which = caretaker_mood
                    value = -5
                }
                set_country_flag = caretaker_secession_denied
                country_event = {
                    id = caretaker_origin_event.3004
                    days = 0
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.3004
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        OR = {
            has_country_flag = caretaker_secession_denied_politely
            has_country_flag = caretaker_secession_denied
        }
    }
    immediate = {
        if = {
            limit = {
                has_country_flag = caretaker_secession_denied_politely
            }
            if = {
                limit = {
                    caretaker_mood_is_slighly_annoyed = yes
                }
                random_list = {
                    90 = {
                        country_event = {
                            id = caretaker_origin_event.3010
                            days = 0
                        }
                        country_event = {
                            id = caretaker_origin_event.3001
                            days = 3600
                        }
                    }
                    10 = {
                        set_country_flag = caretaker_secession
                        event_target:caretaker_secession_target_planet@root = {
                            planet_event = {
                                id = caretaker_origin_event.3011
                                days = 0
                            }
                        }
                        country_event = {
                            id = caretaker_origin_event.3100
                            days = 1
                        }
                    }
                }
            }
            else_if = {
                limit = {
                    caretaker_mood_is_very_annoyed = yes
                }
                random_list = {
                    50 = {
                        country_event = {
                            id = caretaker_origin_event.3010
                            days = 0
                        }
                        country_event = {
                            id = caretaker_origin_event.3001
                            days = 1800
                        }
                    }
                    50 = {
                        set_country_flag = caretaker_secession
                        event_target:caretaker_secession_target_planet@root = {
                            planet_event = {
                                id = caretaker_origin_event.3011
                                days = 0
                            }
                        }
                        country_event = {
                            id = caretaker_origin_event.3100
                            days = 1
                        }
                    }
                }
            }
            else = {
                random_list = {
                    75 = {
                        country_event = {
                            id = caretaker_origin_event.3010
                            days = 0
                        }
                        country_event = {
                            id = caretaker_origin_event.3001
                            days = 3600
                        }
                    }
                    25 = {
                        set_country_flag = caretaker_secession
                        event_target:caretaker_secession_target_planet@root = {
                            planet_event = {
                                id = caretaker_origin_event.3011
                                days = 0
                            }
                        }
                        country_event = {
                            id = caretaker_origin_event.3100
                            days = 1
                        }
                    }
                }
            }
        }
        if = {
            limit = {
                has_country_flag = caretaker_secession_denied
            }
            if = {
                limit = {
                    caretaker_mood_is_very_annoyed = yes
                }
                random_list = {
                    15 = {
                        country_event = {
                            id = caretaker_origin_event.3010
                            days = 0
                        }
                        country_event = {
                            id = caretaker_origin_event.3001
                            days = 1800
                        }
                    }
                    85 = {
                        set_country_flag = caretaker_secession
                        event_target:caretaker_secession_target_planet@root = {
                            planet_event = {
                                id = caretaker_origin_event.3011
                                days = 0
                            }
                        }
                        country_event = {
                            id = caretaker_origin_event.3100
                            days = 1
                        }
                    }
                }
            }
            else_if = {
                limit = {
                    caretaker_mood_is_slighly_annoyed = yes
                }
                random_list = {
                    60 = {
                        country_event = {
                            id = caretaker_origin_event.3010
                            days = 0
                        }
                        country_event = {
                            id = caretaker_origin_event.3001
                            days = 3600
                        }
                    }
                    40 = {
                        set_country_flag = caretaker_secession
                        event_target:caretaker_secession_target_planet@root = {
                            planet_event = {
                                id = caretaker_origin_event.3011
                                days = 0
                            }
                        }
                        country_event = {
                            id = caretaker_origin_event.3100
                            days = 1
                        }
                    }
                }
            }
            else = {
                random_list = {
                    35 = {
                        country_event = {
                            id = caretaker_origin_event.3010
                            days = 0
                        }
                        country_event = {
                            id = caretaker_origin_event.3001
                            days = 3600
                        }
                    }
                    65 = {
                        set_country_flag = caretaker_secession
                        event_target:caretaker_secession_target_planet@root = {
                            planet_event = {
                                id = caretaker_origin_event.3011
                                days = 0
                            }
                        }
                        country_event = {
                            id = caretaker_origin_event.3100
                            days = 1
                        }
                    }
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.3010
    is_triggered_only = yes
    diplomatic = yes
    title = caretaker_origin_event.3010.name
    desc = caretaker_origin_event.3010.desc
    picture_event_data = {
        portrait = event_target:caretaker_robotic_species@root
        planet_background = root
        graphical_culture = root
        city_level = root
        room = root
    }
    option = {
        name = caretaker_origin_event.3010.option.a
    }
}
planet_event = {
    id = caretaker_origin_event.3011
    is_triggered_only = yes
    diplomatic = yes
    title = caretaker_origin_event.3011.name
    desc = caretaker_origin_event.3011.desc
    picture_event_data = {
        portrait = event_target:caretaker_robotic_species@root
        planet_background = root.owner
        graphical_culture = root.owner
        city_level = root.owner
        room = root.owner
    }
    option = {
        name = caretaker_origin_event.3011.option.a
    }
}
country_event = {
    id = caretaker_origin_event.3100
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_secession
    }
    immediate = {
        create_country = {
            type = default
            name = "NAME_CARETAKER_EMPIRE"
            species = event_target:caretaker_robotic_species@root
            ignore_initial_colony_error = yes
            day_zero_contact = no
            ethos = {
                ethic = ethic_gestalt_consciousness
            }
            authority = auth_machine_intelligence
            civics = {
                civic = civic_machine_servitor
                civic = civic_machine_introspective
            }
            origin = origin_separatists
            flag = {
                icon = {
                    category = "special"
                    file = "caretaker_emblem.dds"
                }
                background = {
                    category = "backgrounds"
                    file = "00_solid.dds"
                }
                colors = {
                    "black"
                    "black"
                    "null"
                    "null"
                }
            }
            effect = {
                set_country_flag = caretaker_seceded_country
                caretaker_seceded_empire_setup_technology = {
                    PARENT_EMPIRE = ROOT
                }
                add_resource = {
                    minerals = 15000
                    energy = 15000
                    food = 15000
                    alloys = 15000
                    consumer_goods = 15000
                    influence = 1000
                    rare_crystals = 500
                    exotic_gases = 500
                    volatile_motes = 500
                }
                add_modifier = {
                    modifier = caretaker_country_boost
                    days = -1
                }
                save_global_event_target_as = caretaker_secession_empire
            }
        }
        event_target:caretaker_secession_target_planet@root = {
            set_owner = event_target:caretaker_secession_empire
            set_capital = yes
            caretaker_seceded_empire_setup_initial_population = {
                PARENT_EMPIRE_SPECIES = ROOT
                CARETAKER_SPECIES = event_target:caretaker_robotic_species@root
            }
            caretaker_seceded_empire_setup_capital = yes
            solar_system = {
                starbase = {
                    set_owner = event_target:caretaker_secession_empire
                    caretaker_seceded_empire_setup_starbase = yes
                    caretaker_seceded_empire_create_starting_fleet = {
                        FLEET_TARGET = THIS
                    }
                }
            }
        }
        event_target:caretaker_secession_empire = {
            set_truce = {
                target = ROOT
                type = war
            }
            set_closed_borders = {
                who = ROOT
                status = no
                forced = 10
            }
            if = {
                limit = {
                    ROOT = {
                        has_country_flag = caretaker_secession_granted
                    }
                }
                add_opinion_modifier = {
                    who = ROOT
                    modifier = caretaker_secession_request_granted
                }
            }
            else_if = {
                limit = {
                    ROOT = {
                        OR = {
                            has_country_flag = caretaker_secession_denied
                            has_country_flag = caretaker_secession_denied_politely
                        }
                    }
                }
                add_opinion_modifier = {
                    who = ROOT
                    modifier = caretaker_secession_request_denied
                }
                ROOT = {
                    add_opinion_modifier = {
                        who = PREV
                        modifier = caretaker_seceded_against_our_wishes
                    }
                }
            }
        }
        clear_global_event_target = caretaker_robotic_species@root
        clear_global_event_target = caretaker_secession_target_planet@root
        set_country_flag = caretaker_break_up
        every_owned_planet = {
            caretaker_secession_planets_clean_up = yes
        }
        if = {
            limit = {
                OR = {
                    has_country_flag = caretaker_secession_granted
                    has_country_flag = caretaker_secession_denied_politely
                }
            }
            random_list = {
                80 = {
                    country_event = {
                        id = caretaker_origin_event.3201
                        days = 720
                        random = 720
                    }
                }
                20 = {
                }
            }
            random_list = {
                80 = {
                    country_event = {
                        id = caretaker_origin_event.3200
                        days = 1440
                        random = 720
                    }
                }
                20 = {
                }
            }
            random_list = {
                80 = {
                    country_event = {
                        id = caretaker_origin_event.3202
                        days = 2160
                        random = 720
                    }
                }
                20 = {
                }
            }
        }
        else_if = {
            limit = {
                has_country_flag = caretaker_secession_denied
            }
            random_list = {
                70 = {
                    country_event = {
                        id = caretaker_origin_event.3250
                        days = 720
                        random = 720
                    }
                }
                30 = {
                }
            }
            random_list = {
                40 = {
                    country_event = {
                        id = caretaker_origin_event.3252
                        days = 1440
                        random = 720
                    }
                }
                60 = {
                }
            }
            random_list = {
                70 = {
                    country_event = {
                        id = caretaker_origin_event.3251
                        days = 2160
                        random = 720
                    }
                }
                30 = {
                }
            }
            random_list = {
                70 = {
                    country_event = {
                        id = caretaker_origin_event.3250
                        days = 3600
                        random = 720
                    }
                }
                30 = {
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.3200
    is_triggered_only = yes
    diplomatic = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_secession
        any_playable_country = {
            has_country_flag = caretaker_seceded_country
        }
    }
    title = caretaker_origin_event.3200.name
    desc = caretaker_origin_event.3200.desc
    picture_event_data = {
        portrait = event_target:caretaker_secession_empire
        planet_background = event_target:caretaker_secession_empire
        graphical_culture = event_target:caretaker_secession_empire
        city_level = event_target:caretaker_secession_empire
        room = event_target:caretaker_secession_empire
    }
    option = {
        name = caretaker_origin_event.3200.option.a
        custom_tooltip = caretaker_origin_event.3200.option.a.tooltip
        hidden_effect = {
            event_target:caretaker_secession_empire = {
                capital_scope = {
                    save_event_target_as = resettlement_target_planet
                }
                add_opinion_modifier = {
                    who = ROOT
                    modifier = caretaker_diplo_request_granted
                }
            }
            while = {
                count = 3
                random_owned_pop = {
                    resettle_pop = {
                        pop = THIS
                        planet = event_target:resettlement_target_planet
                    }
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.3200.option.b
        custom_tooltip = caretaker_origin_event.3200.option.b.tooltip
        hidden_effect = {
            event_target:caretaker_secession_empire = {
                add_opinion_modifier = {
                    who = ROOT
                    modifier = caretaker_diplo_request_denied
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.3201
    is_triggered_only = yes
    diplomatic = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_secession
        any_playable_country = {
            has_country_flag = caretaker_seceded_country
        }
    }
    title = caretaker_origin_event.3201.name
    desc = caretaker_origin_event.3201.desc
    picture_event_data = {
        portrait = event_target:caretaker_secession_empire
        planet_background = event_target:caretaker_secession_empire
        graphical_culture = event_target:caretaker_secession_empire
        city_level = event_target:caretaker_secession_empire
        room = event_target:caretaker_secession_empire
    }
    option = {
        name = caretaker_origin_event.3201.option.a
        custom_tooltip = caretaker_origin_event.3201.option.a.tooltip
        trigger = {
            has_resource = {
                type = alloys
                amount > 1000
            }
            has_resource = {
                type = energy
                amount > 1000
            }
        }
        hidden_effect = {
            add_resource = {
                alloys = -1000
                energy = -1000
            }
            event_target:caretaker_secession_empire = {
                add_resource = {
                    alloys = 1000
                    energy = 1000
                }
                add_opinion_modifier = {
                    who = ROOT
                    modifier = caretaker_diplo_request_granted
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.3201.option.b
        trigger = {
            NAND = {
                has_resource = {
                    type = alloys
                    amount > 1000
                }
                has_resource = {
                    type = energy
                    amount > 1000
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.3201.option.c
        custom_tooltip = caretaker_origin_event.3201.option.c.tooltip
        hidden_effect = {
            event_target:caretaker_secession_empire = {
                add_opinion_modifier = {
                    who = ROOT
                    modifier = caretaker_diplo_request_denied
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.3202
    is_triggered_only = yes
    diplomatic = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_secession
        any_playable_country = {
            has_country_flag = caretaker_seceded_country
        }
    }
    title = caretaker_origin_event.3202.name
    desc = caretaker_origin_event.3202.desc
    picture_event_data = {
        portrait = event_target:caretaker_secession_empire
        planet_background = event_target:caretaker_secession_empire
        graphical_culture = event_target:caretaker_secession_empire
        city_level = event_target:caretaker_secession_empire
        room = event_target:caretaker_secession_empire
    }
    option = {
        name = caretaker_origin_event.3202.option.a
        custom_tooltip = caretaker_origin_event.3202.option.a.tooltip
        trigger = {
            has_resource = {
                type = food
                amount > 5000
            }
        }
        hidden_effect = {
            add_resource = {
                food = -5000
            }
            event_target:caretaker_secession_empire = {
                add_resource = {
                    food = 5000
                }
                add_opinion_modifier = {
                    who = ROOT
                    modifier = caretaker_diplo_request_granted
                }
            }
            country_event = {
                id = caretaker_origin_event.3203
                days = 120
            }
        }
    }
    option = {
        name = caretaker_origin_event.3202.option.b
        trigger = {
            NOT = {
                has_resource = {
                    type = food
                    amount > 5000
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.3202.option.c
        custom_tooltip = caretaker_origin_event.3202.option.c.tooltip
        hidden_effect = {
            event_target:caretaker_secession_empire = {
                add_opinion_modifier = {
                    who = ROOT
                    modifier = caretaker_diplo_request_denied
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.3203
    is_triggered_only = yes
    diplomatic = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_secession
        any_playable_country = {
            has_country_flag = caretaker_seceded_country
        }
    }
    title = caretaker_origin_event.3203.name
    desc = caretaker_origin_event.3203.desc
    picture_event_data = {
        portrait = event_target:caretaker_secession_empire
        planet_background = event_target:caretaker_secession_empire
        graphical_culture = event_target:caretaker_secession_empire
        city_level = event_target:caretaker_secession_empire
        room = event_target:caretaker_secession_empire
    }
    option = {
        name = caretaker_origin_event.3203.option.a
        custom_tooltip = caretaker_origin_event.3203.option.a.tooltip
        hidden_effect = {
            add_resource = {
                energy = 5000
                minerals = 5000
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.3250
    is_triggered_only = yes
    picture = GFX_evt_burning_settlement
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_secession
        any_playable_country = {
            has_country_flag = caretaker_seceded_country
        }
    }
    title = caretaker_origin_event.3250.name
    desc = caretaker_origin_event.3250.desc
    option = {
        name = caretaker_origin_event.3250.option.a
        custom_tooltip = caretaker_origin_event.3250.option.a.tooltip
        hidden_effect = {
            event_target:caretaker_secession_empire = {
                capital_scope = {
                    save_event_target_as = resettlement_target_planet
                }
            }
            while = {
                count = 3
                random_owned_pop = {
                    resettle_pop = {
                        pop = THIS
                        planet = event_target:resettlement_target_planet
                    }
                }
            }
            add_opinion_modifier = {
                who = event_target:caretaker_secession_empire
                modifier = caretaker_pops_stolen
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.3251
    is_triggered_only = yes
    picture = GFX_evt_ship_offloading_cargo
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_secession
        any_playable_country = {
            has_country_flag = caretaker_seceded_country
        }
        has_resource = {
            type = energy
            amount > 5000
        }
        has_resource = {
            type = minerals
            amount > 5000
        }
    }
    title = caretaker_origin_event.3251.name
    desc = caretaker_origin_event.3251.desc
    option = {
        name = caretaker_origin_event.3251.option.a
        custom_tooltip = caretaker_origin_event.3251.option.a.tooltip
        hidden_effect = {
            add_resource = {
                energy = -5000
                minerals = -5000
            }
            event_target:caretaker_secession_empire = {
                add_resource = {
                    energy = 5000
                    minerals = 5000
                }
            }
            add_opinion_modifier = {
                who = event_target:caretaker_secession_empire
                modifier = caretaker_resources_stolen
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.3252
    is_triggered_only = yes
    picture = GFX_evt_fleet_neutral
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_secession
        any_playable_country = {
            has_country_flag = caretaker_seceded_country
        }
        num_fleets > 1
        is_at_war = no
    }
    title = caretaker_origin_event.3252.name
    desc = caretaker_origin_event.3252.desc
    option = {
        name = caretaker_origin_event.3252.option.a
        custom_tooltip = caretaker_origin_event.3252.option.a.tooltip
        hidden_effect = {
            random_owned_fleet = {
                set_owner = event_target:caretaker_secession_empire
                order_forced_return = yes
            }
            add_opinion_modifier = {
                who = event_target:caretaker_secession_empire
                modifier = caretaker_resources_stolen
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4000
    is_triggered_only = yes
    title = caretaker_origin_event.4000.name
    desc = caretaker_origin_event.4000.desc
    picture = GFX_evt_caretaker_angry
    trigger = {
        has_origin = origin_caretaker
    }
    immediate = {
        remove_modifier = caretaker_overclocked_cloning_vats
        set_country_flag = caretaker_experiment_scrapped
        if = {
            limit = {
                has_special_project = CARETAKER_FIXING_KILLER_GLITCH
            }
            abort_special_project = {
                type = CARETAKER_FIXING_KILLER_GLITCH
            }
            clear_global_event_target = caretaker_glitch_fixing@root
        }
        if = {
            limit = {
                has_special_project = CARETAKER_ANCIENT_VAULT_EXPLORE
            }
            abort_special_project = {
                type = CARETAKER_ANCIENT_VAULT_EXPLORE
            }
            clear_global_event_target = caretaker_vault_explorer@root
        }
        if = {
            limit = {
                has_special_project = CARETAKER_ANCIENT_VAULT_DATA_ANALYSIS
            }
            abort_special_project = {
                type = CARETAKER_ANCIENT_VAULT_DATA_ANALYSIS
            }
            clear_global_event_target = caretaker_vault_explorer@root
        }
        event_target:caretaker_core_planet@root = {
            random_list = {
                33 = {
                    planet_event = {
                        id = caretaker_origin_event.4001
                        days = 150
                        random = 15
                    }
                }
                33 = {
                    planet_event = {
                        id = caretaker_origin_event.4001
                        days = 180
                        random = 15
                    }
                }
                33 = {
                    planet_event = {
                        id = caretaker_origin_event.4001
                        days = 210
                        random = 15
                    }
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.4000.option.a
    }
    option = {
        name = caretaker_origin_event.4000.option.b
    }
    option = {
        name = caretaker_origin_event.4000.option.c
        trigger = {
            OR = {
                has_ethic = ethic_pacifist
                has_ethic = ethic_fanatic_pacifist
            }
        }
    }
    option = {
        name = caretaker_origin_event.4000.option.d
        trigger = {
            OR = {
                has_ethic = ethic_militarist
                has_ethic = ethic_fanatic_militarist
            }
        }
    }
    option = {
        name = caretaker_origin_event.4000.option.e
        trigger = {
            OR = {
                has_ethic = ethic_materialist
                has_ethic = ethic_fanatic_materialist
            }
        }
    }
    option = {
        name = caretaker_origin_event.4000.option.f
        trigger = {
            OR = {
                has_ethic = ethic_spiritualist
                has_ethic = ethic_fanatic_spiritualist
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.4001
    is_triggered_only = yes
    title = caretaker_origin_event.4001.name
    desc = caretaker_origin_event.4001.desc
    picture = GFX_evt_ground_combat
    trigger = {
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_experiment_scrapped
        }
    }
    immediate = {
        owner = {
            set_country_flag = caretaker_break_up
        }
        planet_event = {
            id = caretaker_origin_event.4002
            days = 5
        }
    }
    option = {
        name = caretaker_origin_event.4001.option.a
        hidden_effect = {
            owner = {
                country_event = {
                    id = caretaker_origin_event.25000
                    days = 2
                }
            }
        }
    }
}
planet_event = {
    id = caretaker_origin_event.4002
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_experiment_scrapped
        }
        caretaker_core_exists_on_planet = yes
    }
    immediate = {
        set_planet_flag = caretaker_core_planet_take_over_attempt
        create_country = {
            name = "NAME_CARETAKER_COUNTRY"
            type = caretaker_faction_special
            flag = {
                icon = {
                    category = "special"
                    file = "caretaker_emblem.dds"
                }
                background = {
                    category = "backgrounds"
                    file = "00_solid.dds"
                }
                colors = {
                    "black"
                    "black"
                    "null"
                    "null"
                }
            }
            effect = {
                establish_communications_no_message = ROOT.owner
                set_country_flag = caretaker_faction
                set_variable = {
                    which = planets_under_occupation
                    value = 1
                }
                save_global_event_target_as = caretaker_exterminatus_faction@root
            }
        }
        while = {
            count = 16
            create_army = {
                name = "NAME_CARETAKER_SMALL_ARMY"
                owner = event_target:caretaker_exterminatus_faction@root
                type = robotic_occupation_army
            }
        }
        if = {
            limit = {
                has_building = building_monitor_station_3
            }
            while = {
                count = 9
                create_army = {
                    name = "NAME_CARETAKER_SMALL_ARMY"
                    owner = event_target:caretaker_exterminatus_faction@root
                    type = robotic_occupation_army
                }
            }
        }
        else_if = {
            limit = {
                has_building = building_monitor_station_2
            }
            while = {
                count = 6
                create_army = {
                    name = "NAME_CARETAKER_SMALL_ARMY"
                    owner = event_target:caretaker_exterminatus_faction@root
                    type = robotic_occupation_army
                }
            }
        }
        else_if = {
            limit = {
                has_building = building_monitor_station_1
            }
            while = {
                count = 3
                create_army = {
                    name = "NAME_CARETAKER_SMALL_ARMY"
                    owner = event_target:caretaker_exterminatus_faction@root
                    type = robotic_occupation_army
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4010
    is_triggered_only = yes
    title = caretaker_origin_event.4010.name
    desc = caretaker_origin_event.4010.desc
    picture = GFX_evt_victorious_army
    location = FROMFROM
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_break_up
        has_country_flag = caretaker_experiment_scrapped
        FROM = {
            is_country = event_target:caretaker_exterminatus_faction@root
        }
        FROMFROM = {
            has_planet_flag = caretaker_core_planet_take_over_attempt
        }
    }
    immediate = {
        event_target:caretaker_exterminatus_faction@root = {
            change_variable = {
                which = planets_under_occupation
                value = -1
            }
        }
        FROMFROM = {
            remove_planet_flag = caretaker_core_planet_take_over_attempt
            set_planet_flag = caretaker_core_planet_take_over_failed
            caretaker_core_clean_up = yes
            remove_modifier = pm_caretaker_free_settler_discord
            if = {
                limit = {
                    has_deposit = d_caretaker_free_settlements
                }
                create_pop = {
                    species = owner
                }
                create_pop = {
                    species = owner
                }
            }
        }
        root = {
            set_country_flag = caretaker_destoryed
            country_event = {
                id = caretaker_origin_event.4200
                days = 3
            }
        }
        random_list = {
            33 = {
                country_event = {
                    id = caretaker_origin_event.4100
                    days = 90
                }
            }
            33 = {
                country_event = {
                    id = caretaker_origin_event.4100
                    days = 120
                }
            }
            33 = {
                country_event = {
                    id = caretaker_origin_event.4100
                    days = 150
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.4010.option.a
        hidden_effect = {
            add_resource = {
                unity = 5000
            }
        }
    }
    option = {
        name = caretaker_origin_event.4010.option.b
        trigger = {
            OR = {
                has_ethic = ethic_militarist
                has_ethic = ethic_fanatic_militarist
            }
        }
        hidden_effect = {
            add_resource = {
                unity = 5000
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4020
    is_triggered_only = yes
    title = caretaker_origin_event.4020.name
    desc = caretaker_origin_event.4020.desc
    picture = GFX_evt_organic_oppression
    location = FROMFROM
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_break_up
        has_country_flag = caretaker_experiment_scrapped
        FROM = {
            is_country = event_target:caretaker_exterminatus_faction@root
        }
        FROMFROM = {
            has_planet_flag = caretaker_core_planet_take_over_attempt
        }
    }
    immediate = {
        FROMFROM = {
            remove_planet_flag = caretaker_core_planet_take_over_attempt
            set_planet_flag = caretaker_core_planet_take_over_success
            set_owner = this
            caretaker_core_clean_up = yes
            remove_deposit = d_caretaker_free_settlements
            remove_modifier = pm_caretaker_free_settler_discord
            every_owned_pop = {
                set_pop_flag = event_purge
                unemploy_pop = yes
            }
        }
        random_list = {
            33 = {
                country_event = {
                    id = caretaker_origin_event.4100
                    days = 90
                }
            }
            33 = {
                country_event = {
                    id = caretaker_origin_event.4100
                    days = 120
                }
            }
            33 = {
                country_event = {
                    id = caretaker_origin_event.4100
                    days = 150
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.4020.option.a
    }
}
country_event = {
    id = caretaker_origin_event.4030
    is_triggered_only = yes
    title = caretaker_origin_event.4030.name
    desc = caretaker_origin_event.4030.desc
    picture = GFX_evt_victorious_army
    location = FROMFROM
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_break_up
        has_country_flag = caretaker_experiment_scrapped
        FROMFROM = {
            controller = {
                is_country = event_target:caretaker_exterminatus_faction@root
            }
            has_planet_flag = caretaker_core_planet_take_over_success
        }
    }
    immediate = {
        event_target:caretaker_exterminatus_faction@root = {
            change_variable = {
                which = planets_under_occupation
                value = -1
            }
        }
        FROMFROM = {
            remove_planet_flag = caretaker_core_planet_take_over_success
            set_owner = ROOT
            every_owned_pop = {
                remove_pop_flag = event_purge
                unemploy_pop = yes
            }
            every_owned_pop = {
                remove_modifier = "pop_recently_conquered"
                add_modifier = {
                    modifier = "pop_liberation_fever"
                    days = 3600
                }
            }
        }
        root = {
            set_country_flag = caretaker_destoryed
            country_event = {
                id = caretaker_origin_event.4200
                days = 3
            }
        }
    }
    option = {
        name = caretaker_origin_event.4030.option.a
        hidden_effect = {
            add_resource = {
                unity = 5000
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4040
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        NOR = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_break_up
            has_country_flag = caretaker_experiment_scrapped
        }
        FROMFROM = {
            controller = {
                is_country = event_target:caretaker_exterminatus_faction@root
            }
            OR = {
                has_planet_flag = caretaker_core_planet_take_over_success
                has_planet_flag = caretaker_hub_planet_take_over_success
            }
        }
    }
    immediate = {
        event_target:caretaker_exterminatus_faction@root = {
            change_variable = {
                which = planets_under_occupation
                value = -1
            }
        }
        FROMFROM = {
            remove_planet_flag = caretaker_core_planet_take_over_success
            set_owner = ROOT
            every_owned_pop = {
                remove_pop_flag = event_purge
                unemploy_pop = yes
            }
            every_owned_pop = {
                remove_modifier = "pop_recently_conquered"
                add_modifier = {
                    modifier = "pop_liberation_fever"
                    days = 1800
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4100
    is_triggered_only = yes
    title = caretaker_origin_event.4100.name
    desc = caretaker_origin_event.4100.desc
    picture = GFX_evt_ground_combat
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_break_up
        has_country_flag = caretaker_experiment_scrapped
        any_owned_planet = {
            caretaker_presence_on_planet = yes
        }
    }
    immediate = {
        every_owned_planet = {
            limit = {
                NOR = {
                    has_planet_flag = caretaker_core_planet_take_over_failed
                    has_planet_flag = caretaker_core_planet_take_over_success
                }
                caretaker_presence_on_planet = yes
            }
            planet_event = {
                id = caretaker_origin_event.4101
                days = 1
            }
        }
        country_event = {
            id = caretaker_origin_event.4102
            days = 30
        }
    }
    option = {
        name = caretaker_origin_event.4100.option.a
    }
}
planet_event = {
    id = caretaker_origin_event.4101
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        exists = owner
        owner = {
            has_origin = origin_caretaker
            has_country_flag = caretaker_experiment_scrapped
        }
        has_deposit = d_caretaker_hub
    }
    immediate = {
        set_planet_flag = caretaker_hub_planet_take_over_attempt
        event_target:caretaker_exterminatus_faction@root = {
            change_variable = {
                which = planets_under_occupation
                value = 1
            }
        }
        if = {
            limit = {
                num_pops > 80
            }
            while = {
                count = 12
                create_army = {
                    name = "NAME_CARETAKER_SMALL_ARMY"
                    owner = event_target:caretaker_exterminatus_faction@root
                    type = robotic_occupation_army
                }
            }
        }
        else_if = {
            limit = {
                num_pops > 40
            }
            while = {
                count = 9
                create_army = {
                    name = "NAME_CARETAKER_SMALL_ARMY"
                    owner = event_target:caretaker_exterminatus_faction@root
                    type = robotic_occupation_army
                }
            }
        }
        else_if = {
            limit = {
                num_pops > 10
            }
            while = {
                count = 6
                create_army = {
                    name = "NAME_CARETAKER_SMALL_ARMY"
                    owner = event_target:caretaker_exterminatus_faction@root
                    type = robotic_occupation_army
                }
            }
        }
        else = {
            while = {
                count = 3
                create_army = {
                    name = "NAME_CARETAKER_SMALL_ARMY"
                    owner = event_target:caretaker_exterminatus_faction@root
                    type = robotic_occupation_army
                }
            }
        }
        if = {
            limit = {
                has_building = building_monitor_station_3
            }
            while = {
                count = 3
                create_army = {
                    name = "NAME_CARETAKER_SMALL_ARMY"
                    owner = event_target:caretaker_exterminatus_faction@root
                    type = robotic_occupation_army
                }
            }
        }
        else_if = {
            limit = {
                has_building = building_monitor_station_2
            }
            while = {
                count = 2
                create_army = {
                    name = "NAME_CARETAKER_SMALL_ARMY"
                    owner = event_target:caretaker_exterminatus_faction@root
                    type = robotic_occupation_army
                }
            }
        }
        else_if = {
            limit = {
                has_building = building_monitor_station_1
            }
            create_army = {
                name = "NAME_CARETAKER_SMALL_ARMY"
                owner = event_target:caretaker_exterminatus_faction@root
                type = robotic_occupation_army
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4102
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_break_up
        has_country_flag = caretaker_experiment_scrapped
        NOT = {
            has_country_flag = caretaker_destoryed
        }
    }
    immediate = {
        event_target:caretaker_exterminatus_faction@root = {
            if = {
                limit = {
                    check_variable = {
                        which = planets_under_occupation
                        value < 1
                    }
                }
                root = {
                    set_country_flag = caretaker_destoryed
                }
                clear_global_event_target = caretaker_core_planet@root
                clear_global_event_target = caretaker_exterminatus_faction@root
                destroy_country = yes
            }
            else = {
                root = {
                    country_event = {
                        id = caretaker_origin_event.4102
                        days = 30
                    }
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4110
    is_triggered_only = yes
    title = caretaker_origin_event.4110.name
    desc = caretaker_origin_event.4110.desc
    picture = GFX_evt_victorious_army
    location = FROMFROM
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_break_up
        has_country_flag = caretaker_experiment_scrapped
        FROM = {
            is_country = event_target:caretaker_exterminatus_faction@root
        }
        FROMFROM = {
            has_planet_flag = caretaker_hub_planet_take_over_attempt
        }
    }
    immediate = {
        event_target:caretaker_exterminatus_faction@root = {
            change_variable = {
                which = planets_under_occupation
                value = -1
            }
        }
        FROMFROM = {
            remove_planet_flag = caretaker_hub_planet_take_over_attempt
            set_planet_flag = caretaker_hub_planet_take_over_failed
            caretaker_hub_clean_up = yes
            remove_modifier = pm_caretaker_free_settler_discord
            if = {
                limit = {
                    has_deposit = d_caretaker_free_settlements
                }
                create_pop = {
                    species = owner
                }
                create_pop = {
                    species = owner
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.4110.option.a
    }
    option = {
        name = caretaker_origin_event.4110.option.b
        trigger = {
            OR = {
                has_ethic = ethic_militarist
                has_ethic = ethic_fanatic_militarist
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4120
    is_triggered_only = yes
    title = caretaker_origin_event.4120.name
    desc = caretaker_origin_event.4120.desc
    picture = GFX_evt_organic_oppression
    location = FROMFROM
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_break_up
        has_country_flag = caretaker_experiment_scrapped
        FROM = {
            is_country = event_target:caretaker_exterminatus_faction@root
        }
        FROMFROM = {
            has_planet_flag = caretaker_hub_planet_take_over_attempt
        }
    }
    immediate = {
        FROMFROM = {
            remove_planet_flag = caretaker_hub_planet_take_over_attempt
            set_planet_flag = caretaker_hub_planet_take_over_success
            caretaker_hub_clean_up = yes
            remove_deposit = d_caretaker_free_settlements
            remove_modifier = pm_caretaker_free_settler_discord
            every_owned_pop = {
                set_pop_flag = event_purge
                unemploy_pop = yes
            }
        }
    }
    option = {
        name = caretaker_origin_event.4120.option.a
    }
}
country_event = {
    id = caretaker_origin_event.4130
    is_triggered_only = yes
    title = caretaker_origin_event.4130.name
    desc = caretaker_origin_event.4130.desc
    picture = GFX_evt_victorious_army
    location = FROMFROM
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_break_up
        has_country_flag = caretaker_experiment_scrapped
        FROMFROM = {
            controller = {
                is_country = event_target:caretaker_exterminatus_faction@root
            }
            has_planet_flag = caretaker_hub_planet_take_over_success
        }
    }
    immediate = {
        FROM = {
            change_variable = {
                which = planets_under_occupation
                value = -1
            }
        }
        FROMFROM = {
            remove_planet_flag = caretaker_hub_planet_take_over_success
            set_owner = ROOT
            every_owned_pop = {
                remove_pop_flag = event_purge
                unemploy_pop = yes
            }
            every_owned_pop = {
                remove_modifier = "pop_recently_conquered"
                add_modifier = {
                    modifier = "pop_liberation_fever"
                    days = 3600
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.4130.option.a
    }
}
country_event = {
    id = caretaker_origin_event.4200
    is_triggered_only = yes
    title = caretaker_origin_event.4200.name
    desc = caretaker_origin_event.4200.desc
    picture = GFX_evt_generator_powerup
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_destoryed
        has_country_flag = caretaker_experiment_scrapped
    }
    option = {
        name = caretaker_origin_event.4200.option.a
        custom_tooltip = caretaker_origin_event.4200.option.a.tooltip
        hidden_effect = {
            save_global_event_target_as = caretaker_in_search_for_awful_truth@root
            capital_scope = {
                enable_special_project = {
                    name = CARETAKER_EXTRACT_DATABANKS
                    location = this
                    owner = event_target:caretaker_in_search_for_awful_truth@root
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.4200.option.b
        custom_tooltip = caretaker_origin_event.4200.option.b.tooltip
        hidden_effect = {
            add_modifier = {
                modifier = caretaker_destroyed_databanks
                days = -1
            }
            add_resource = {
                influence = 250
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4201
    is_triggered_only = yes
    title = caretaker_origin_event.4201.name
    desc = caretaker_origin_event.4201.desc
    picture = GFX_evt_sapient_AI
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_destoryed
        has_country_flag = caretaker_experiment_scrapped
    }
    option = {
        name = caretaker_origin_event.4201.option.a
        custom_tooltip = caretaker_origin_event.4201.option.a.tooltip
        hidden_effect = {
            capital_scope = {
                enable_special_project = {
                    name = CARETAKER_DECRYPT_DATABANKS
                    location = this
                    owner = event_target:caretaker_in_search_for_awful_truth@root
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4202
    is_triggered_only = yes
    title = caretaker_origin_event.4202.name
    desc = caretaker_origin_event.4202.desc
    picture = GFX_evt_sapient_AI
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_destoryed
        has_country_flag = caretaker_experiment_scrapped
    }
    option = {
        name = caretaker_origin_event.4202.option.a
        custom_tooltip = caretaker_origin_event.4202.option.a.tooltip
        hidden_effect = {
            capital_scope = {
                enable_special_project = {
                    name = CARETAKER_ANALYSE_DATABANKS
                    location = this
                    owner = event_target:caretaker_in_search_for_awful_truth@root
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.4202.option.b
        custom_tooltip = caretaker_origin_event.4202.option.b.tooltip
        hidden_effect = {
            add_modifier = {
                modifier = caretaker_destroyed_databanks
                days = -1
            }
            add_resource = {
                influence = 250
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4203
    is_triggered_only = yes
    title = caretaker_origin_event.4203.name
    desc = caretaker_origin_event.4203.desc
    picture = GFX_evt_circuitry_modification
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_destoryed
        has_country_flag = caretaker_experiment_scrapped
    }
    immediate = {
        set_country_flag = caretaker_awful_truth_learned
        clear_global_event_target = caretaker_in_search_for_awful_truth@root
    }
    option = {
        name = caretaker_origin_event.4203.option.a
        custom_tooltip = caretaker_origin_event.4203.option.a.tooltip
        trigger = {
            has_ascension_perk = ap_evolutionary_mastery
        }
        hidden_effect = {
            add_modifier = {
                modifier = caretaker_knows_awful_truth
                days = -1
            }
            save_global_event_target_as = caretaker_searching_for_cure@root
            capital_scope = {
                enable_special_project = {
                    name = CARETAKER_BIO_ASCENSION_CURE
                    location = this
                    owner = event_target:caretaker_searching_for_cure@root
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.4203.option.b
        custom_tooltip = caretaker_origin_event.4203.option.b.tooltip
        trigger = {
            has_ascension_perk = ap_transcendence
            has_country_flag = shroud_intro
        }
        hidden_effect = {
            add_modifier = {
                modifier = caretaker_knows_awful_truth
                days = -1
            }
            save_global_event_target_as = caretaker_searching_for_cure@root
            capital_scope = {
                enable_special_project = {
                    name = CARETAKER_PSI_ASCENSION_CURE
                    location = this
                    owner = event_target:caretaker_searching_for_cure@root
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.4203.option.c
        custom_tooltip = caretaker_origin_event.4203.option.c.tooltip
        trigger = {
            has_ascension_perk = ap_transcendence
            has_country_flag = shroud_intro
        }
        hidden_effect = {
            add_modifier = {
                modifier = caretaker_knows_awful_truth
                days = -1
            }
            country_event = {
                id = caretaker_origin_event.4204
                days = 60
            }
        }
    }
    option = {
        name = caretaker_origin_event.4203.option.d
        custom_tooltip = caretaker_origin_event.4203.option.d.tooltip
        trigger = {
            has_ascension_perk = ap_synthetic_evolution
            has_country_flag = synthetic_empire
        }
        hidden_effect = {
            add_modifier = {
                modifier = caretaker_knows_awful_truth
                days = -1
            }
        }
    }
    option = {
        name = caretaker_origin_event.4203.option.e
        custom_tooltip = caretaker_origin_event.4203.option.e.tooltip
        trigger = {
            has_ascension_perk = ap_synthetic_evolution
            NOT = {
                has_country_flag = synthetic_empire
            }
        }
        hidden_effect = {
            add_modifier = {
                modifier = caretaker_knows_awful_truth
                days = -1
            }
        }
    }
    option = {
        name = caretaker_origin_event.4203.option.f
        custom_tooltip = caretaker_origin_event.4203.option.f.tooltip
        trigger = {
            NOT = {
                has_civic = civic_fanatic_purifiers
            }
            any_country = {
                is_fallen_empire_xenophile = yes
                has_communications = root
            }
        }
        hidden_effect = {
            random_country = {
                limit = {
                    is_fallen_empire_xenophile = yes
                    has_communications = root
                }
                save_global_event_target_as = caretaker_xenophile_fe@root
            }
            ROOT = {
                add_modifier = {
                    modifier = caretaker_knows_awful_truth
                    days = -1
                }
                country_event = {
                    id = caretaker_origin_event.4320
                    days = 1
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.4203.option.g
        custom_tooltip = caretaker_origin_event.4203.option.g.tooltip
        trigger = {
            NOT = {
                has_civic = civic_fanatic_purifiers
            }
            any_country = {
                is_fallen_empire_xenophile = yes
                NOT = {
                    has_communications = root
                }
            }
        }
        hidden_effect = {
            random_country = {
                limit = {
                    is_fallen_empire_xenophile = yes
                    NOT = {
                        has_communications = root
                    }
                }
                save_global_event_target_as = caretaker_xenophile_fe@root
            }
            ROOT = {
                set_country_flag = caretaker_seeking_xenophile_fe
                country_event = {
                    id = caretaker_origin_event.4322
                    days = 30
                    random = 30
                }
                add_modifier = {
                    modifier = caretaker_knows_awful_truth
                    days = -1
                }
            }
        }
    }
    option = {
        name = caretaker_origin_event.4203.option.h
        custom_tooltip = caretaker_origin_event.4203.option.h.tooltip
        hidden_effect = {
            add_modifier = {
                modifier = caretaker_fortitude
                days = -1
            }
            add_resource = {
                influence = 250
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4204
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_awful_truth_learned
        NOT = {
            has_country_flag = caretaker_delayed_psi_cure
        }
    }
    immediate = {
        if = {
            limit = {
                has_country_flag = shroud_intro
            }
            set_country_flag = caretaker_delayed_psi_cure
            country_event = {
                id = caretaker_origin_event.4205
                days = -1
            }
        }
        else = {
            country_event = {
                id = caretaker_origin_event.4204
                days = 60
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4205
    is_triggered_only = yes
    title = caretaker_origin_event.4205.name
    desc = caretaker_origin_event.4205.desc
    picture = GFX_evt_psionics
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_awful_truth_learned
        has_country_flag = shroud_intro
    }
    option = {
        name = caretaker_origin_event.4205.option.a
        hidden_effect = {
            save_global_event_target_as = caretaker_searching_for_cure@root
            capital_scope = {
                enable_special_project = {
                    name = CARETAKER_PSI_ASCENSION_CURE
                    location = this
                    owner = event_target:caretaker_searching_for_cure@root
                }
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4300
    is_triggered_only = yes
    title = caretaker_origin_event.4300.name
    desc = caretaker_origin_event.4300.desc
    picture = GFX_evt_circuitry_modification
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_awful_truth_learned
    }
    immediate = {
        country_event = {
            id = caretaker_origin_event.4330
            days = 0
        }
    }
    option = {
        name = caretaker_origin_event.4300.option.a
        custom_tooltip = caretaker_origin_event.4300.option.a
    }
}
country_event = {
    id = caretaker_origin_event.4310
    is_triggered_only = yes
    title = caretaker_origin_event.4310.name
    desc = caretaker_origin_event.4310.desc
    picture = GFX_evt_psionics
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_awful_truth_learned
    }
    immediate = {
        country_event = {
            id = caretaker_origin_event.4330
            days = 0
        }
    }
    option = {
        name = caretaker_origin_event.4310.option.a
        custom_tooltip = caretaker_origin_event.4310.option.a
    }
}
country_event = {
    id = caretaker_origin_event.4320
    is_triggered_only = yes
    diplomatic = yes
    title = caretaker_origin_event.4320.name
    desc = caretaker_origin_event.4320.desc
    picture_event_data = {
        portrait = event_target:caretaker_xenophile_fe@root
        planet_background = event_target:caretaker_xenophile_fe@root
        graphical_culture = event_target:caretaker_xenophile_fe@root
        city_level = event_target:caretaker_xenophile_fe@root
        room = event_target:caretaker_xenophile_fe@root
    }
    option = {
        name = caretaker_origin_event.4320.option.a
        hidden_effect = {
            country_event = {
                id = caretaker_origin_event.4321
                days = 180
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4321
    is_triggered_only = yes
    diplomatic = yes
    title = caretaker_origin_event.4321.name
    desc = caretaker_origin_event.4321.desc
    picture_event_data = {
        portrait = event_target:caretaker_xenophile_fe@root
        planet_background = event_target:caretaker_xenophile_fe@root
        graphical_culture = event_target:caretaker_xenophile_fe@root
        city_level = event_target:caretaker_xenophile_fe@root
        room = event_target:caretaker_xenophile_fe@root
    }
    option = {
        name = caretaker_origin_event.4321.option.a
        custom_tooltip = caretaker_origin_event.4321.option.a.tooltip
        hidden_effect = {
            country_event = {
                id = caretaker_origin_event.4330
                days = 0
            }
        }
    }
    after = {
        clear_global_event_target = caretaker_xenophile_fe@root
    }
}
country_event = {
    id = caretaker_origin_event.4322
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_seeking_xenophile_fe
    }
    immediate = {
        event_target:caretaker_xenophile_fe@root = {
            establish_communications_no_message = ROOT
        }
        ROOT = {
            country_event = {
                id = caretaker_origin_event.4323
                days = 1
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4323
    is_triggered_only = yes
    title = caretaker_origin_event.4323.name
    desc = caretaker_origin_event.4323.desc
    picture = GFX_evt_fallen_empire
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_seeking_xenophile_fe
    }
    option = {
        name = caretaker_origin_event.4323.option.a
        hidden_effect = {
            country_event = {
                id = caretaker_origin_event.4324
                days = 0
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4324
    is_triggered_only = yes
    diplomatic = yes
    title = caretaker_origin_event.4324.name
    desc = caretaker_origin_event.4324.desc
    picture_event_data = {
        portrait = event_target:caretaker_xenophile_fe@root
        planet_background = event_target:caretaker_xenophile_fe@root
        graphical_culture = event_target:caretaker_xenophile_fe@root
        city_level = event_target:caretaker_xenophile_fe@root
        room = event_target:caretaker_xenophile_fe@root
    }
    option = {
        name = caretaker_origin_event.4324.option.a
        hidden_effect = {
            country_event = {
                id = caretaker_origin_event.4321
                days = 180
            }
        }
    }
}
country_event = {
    id = caretaker_origin_event.4330
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        has_origin = origin_caretaker
        has_country_flag = caretaker_awful_truth_learned
    }
    immediate = {
        every_owned_pop = {
            limit = {
                is_same_species = root
            }
            modify_species = {
                remove_trait = trait_common_sterility
                add_trait = trait_sterility_cured
            }
            species = {
                save_event_target_as = sterility_cured_main_species
            }
        }
        change_dominant_species = {
            species = event_target:sterility_cured_main_species
        }
        while = {
            limit = {
                any_owned_pop = {
                    is_sapient = yes
                    is_being_purged = no
                    is_being_assimilated = no
                    has_trait = trait_common_sterility
                }
            }
            random_owned_pop = {
                limit = {
                    is_sapient = yes
                    is_being_purged = no
                    is_being_assimilated = no
                    species = {
                        has_trait = trait_common_sterility
                    }
                }
                modify_species = {
                    remove_trait = trait_common_sterility
                    add_trait = trait_sterility_cured
                }
            }
        }
    }
}
